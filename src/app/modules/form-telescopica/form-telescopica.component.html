<div *ngIf="informes" class="list-container">
  <div *ngIf="!selectedInforme" class="informes-list">
    <ul>
      <li *ngFor="let informe of informes" (click)="selectInforme(informe)">
        {{ informe.numeroInforme }}
      </li>
    </ul>
  </div>
</div>

<button (click)="deselectInforme()" class="back-button">Volver</button>
<button (click)="togglePreview()">Vista Previa</button>
<button (click)="generatePDF()">Exportar a PDF</button>
<div *ngIf="isLoading" class="loading-bar">
  <div class="spinner"></div>
</div>

<div *ngIf="isSaving" class="loading-bar">
  <div class="spinner"></div>
  <p>{{ savingMessage }}</p>
</div>

<div *ngIf="!isLoading">
  <div *ngIf="selectedInforme" class="form-container">
    <div *ngIf="isLoadingPdf" class="loading-bar">
      <p>Generando PDF, por favor espere...</p>
      <div class="spinner"></div>
    </div>

    <app-info-message
      [message]="messageText"
      [type]="messageType"
      [show]="showMessage"
      [duration]="5000"
    >
    </app-info-message>

    <!-- <app-report-modal-component
      *ngIf="showModal"
      [idInforme]="modalInstance?.idInforme"
      [idDetalle]="modalInstance?.idDetalle"
      [idStatus]="modalInstance?.idStatus"
      [numeroInforme]="modalInstance?.numeroInforme"
      [allowImages]="modalInstance?.allowImages"
      [uploadImageService]="modalInstance?.uploadImageService"
      [saveDescriptionService]="modalInstance?.saveDescriptionService"
      (save)="closeModal($event)"
      (cancel)="cancelModal()"
    >
    </app-report-modal-component> -->

    <div id="contentToConvert">
      <div *ngIf="showHeaderFooter" class="header">
        <app-header></app-header>
      </div>

      <div class="title-main">
        <h1>
          INFORME DE INSPECCIÓN Y PRUEBA DE CARGA A GRÚAS MÓVILES TELESCÓPICAS
          y/o CELOSÍA (RETICULADAS)
        </h1>
      </div>

      <div class="page">
        <div class="content">
          <form [formGroup]="informeForm" class="A-B">
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button (click)="toggleEdit()">
                {{ isEditing ? "Cancelar" : "Editar" }}
              </button>
              <button *ngIf="isEditing" (click)="saveChanges()">Guardar</button>
            </div>

            <div class="form-row">
              <div class="title">
                <label>Informe N°</label>
              </div>
              <label>{{ informeForm.get("numeroInforme")?.value }}</label>
              <label>Certificado asociado N°</label>
              <ng-container *ngIf="isEditing; else viewCertificado">
                <input formControlName="numeroInforme" type="text" />
              </ng-container>
              <ng-template #viewCertificado>
                <label>{{ informeForm.get("numeroInforme")?.value }}</label>
              </ng-template>
            </div>
            <div class="form-row">
              <div class="title">
                <label>Solicitado por</label>
              </div>
              <label>Empresa</label>
              <ng-container *ngIf="isEditing; else viewEmpresa">
                <input formControlName="nombreEmpresa" type="text" />
              </ng-container>
              <ng-template #viewEmpresa>
                <label>{{ informeForm.get("nombreEmpresa")?.value }}</label>
              </ng-template>
              <label>Persona</label>
              <ng-container *ngIf="isEditing; else viewPersona">
                <input formControlName="nombrePersona" type="text" />
              </ng-container>
              <ng-template #viewPersona>
                <label>{{ informeForm.get("nombrePersona")?.value }}</label>
              </ng-template>
            </div>
            <div class="form-row">
              <div class="title">
                <label>Equipo</label>
              </div>
              <ng-container *ngIf="isEditing; else viewEquipo">
                <input formControlName="equipo" type="text" />
              </ng-container>
              <ng-template #viewEquipo>
                <label>{{ informeForm.get("equipo")?.value }}</label>
              </ng-template>
            </div>
            <div class="form-row">
              <div class="title">
                <label>Modelo Grúa</label>
              </div>
              <ng-container *ngIf="isEditing; else viewModelo">
                <input formControlName="modeloGrua" type="text" />
              </ng-container>
              <ng-template #viewModelo>
                <label>{{ informeForm.get("modeloGrua")?.value }}</label>
              </ng-template>
            </div>

            <div class="form-row border-color">
              <div class="title">
                <span class="border-right">Tipo</span>
              </div>

              <!-- Modo Edición -->
              <ng-container *ngIf="isEditing; else viewTipo">
                <div class="text-center flex-row">
                  <span class="cuadrado">
                    <span *ngIf="informeForm.get('tipo')?.value === 1">✖</span>
                  </span>
                  <input
                    type="radio"
                    name="tipo_montada"
                    [value]="1"
                    [checked]="informeForm.get('tipo')?.value === 1"
                    (change)="informeForm.patchValue({ tipo: 1 })"
                  />
                  <label>Montada sobre camión</label>
                </div>

                <div class="text-center flex-row">
                  <span class="cuadrado">
                    <span *ngIf="informeForm.get('tipo')?.value === 2">✖</span>
                  </span>
                  <input
                    type="radio"
                    name="tipo_autopropulsada"
                    [value]="2"
                    [checked]="informeForm.get('tipo')?.value === 2"
                    (change)="informeForm.patchValue({ tipo: 2 })"
                  />
                  <label>Autopropulsada</label>
                </div>
              </ng-container>

              <!-- Modo Vista -->
              <ng-template #viewTipo>
                <div class="text-center flex-row">
                  <span class="cuadrado margin-left-right">
                    <span *ngIf="informeForm.get('tipo')?.value === 1">✖</span>
                  </span>
                  <label class="border-none">Montada sobre camión</label>
                </div>

                <div class="text-center flex-row">
                  <span class="cuadrado margin-left-right">
                    <span *ngIf="informeForm.get('tipo')?.value === 2">✖</span>
                  </span>
                  <label class="border-none">Autopropulsada</label>
                </div>
              </ng-template>
            </div>

            <div class="form-row">
              <div class="title">
                <label>Marca grúa</label>
              </div>
              <ng-container *ngIf="isEditing; else viewMarca">
                <input formControlName="marcaGrua" type="text" />
              </ng-container>
              <ng-template #viewMarca>
                <label>{{ informeForm.get("marcaGrua")?.value }}</label>
              </ng-template>
            </div>
            <div class="form-row">
              <div class="title">
                <label>Horómetro actual</label>
              </div>
              <ng-container *ngIf="isEditing; else viewHorometro">
                <input formControlName="horometroactual" type="number" />
              </ng-container>
              <ng-template #viewHorometro>
                <label>{{ informeForm.get("horometroactual")?.value }}</label>
              </ng-template>
            </div>

            <div class="unionLevante">
              <div class="form-row">
                <div class="title">
                  <label>Capacidad de levante máxima.</label>
                </div>
              </div>
              <div class="capacidad-levante">
                <label class="label-levante">Grúa</label>
                <ng-container *ngIf="isEditing; else viewCapLevanteMaxGrua">
                  <ng-container
                    *ngIf="
                      informeForm.get('capLevanteMaxGrua')?.value !== 0;
                      else naCapLevanteMaxGrua
                    "
                  >
                    <input formControlName="capLevanteMaxGrua" type="number" />
                  </ng-container>
                  <ng-template #naCapLevanteMaxGrua>
                    <label class="label-levante">N/A</label>
                  </ng-template>
                </ng-container>
                <ng-template #viewCapLevanteMaxGrua>
                  <label class="label-levante">{{
                    informeForm.get("capLevanteMaxGrua")?.value !== 0
                      ? informeForm.get("capLevanteMaxGrua")?.value
                      : "N/A"
                  }}</label>
                </ng-template>
                <label class="label-levante">kg</label>
                <label class="label-levante">Gancho principal</label>
                <ng-container
                  *ngIf="isEditing; else viewCapLevanteMaxGanchoPrin"
                >
                  <ng-container
                    *ngIf="
                      informeForm.get('capLevanteMaxGanchoPrin')?.value !== 0;
                      else naCapLevanteMaxGanchoPrin
                    "
                  >
                    <input
                      formControlName="capLevanteMaxGanchoPrin"
                      type="number"
                    />
                  </ng-container>
                  <ng-template #naCapLevanteMaxGanchoPrin>
                    <label class="label-levante">N/A</label>
                  </ng-template>
                </ng-container>
                <ng-template #viewCapLevanteMaxGanchoPrin>
                  <label class="label-levante">{{
                    informeForm.get("capLevanteMaxGanchoPrin")?.value !== 0
                      ? informeForm.get("capLevanteMaxGanchoPrin")?.value
                      : "N/A"
                  }}</label>
                </ng-template>
                <label class="label-levante">kg</label>
                <label class="label-levante">Gancho auxiliar</label>
                <ng-container
                  *ngIf="isEditing; else viewCapLevanteMaxGanchoAux"
                >
                  <ng-container
                    *ngIf="
                      informeForm.get('capLevanteMaxGanchoAux')?.value !== 0;
                      else naCapLevanteMaxGanchoAux
                    "
                  >
                    <input
                      formControlName="capLevanteMaxGanchoAux"
                      type="number"
                    />
                  </ng-container>
                  <ng-template #naCapLevanteMaxGanchoAux>
                    <label class="label-levante">N/A</label>
                  </ng-template>
                </ng-container>
                <ng-template #viewCapLevanteMaxGanchoAux>
                  <label class="label-levante">{{
                    informeForm.get("capLevanteMaxGanchoAux")?.value !== 0
                      ? informeForm.get("capLevanteMaxGanchoAux")?.value
                      : "N/A"
                  }}</label>
                </ng-template>
                <label class="label-levante">kg</label>
              </div>
            </div>

            <div class="form-row">
              <div class="title">
                <label>Fecha de Fabricación</label>
              </div>
              <ng-container *ngIf="isEditing; else viewFechaFabricacion">
                <input formControlName="fechaFabricacion" type="text" />
              </ng-container>
              <ng-template #viewFechaFabricacion>
                <label>{{ informeForm.get("fechaFabricacion")?.value }}</label>
              </ng-template>
            </div>

            <div class="form-row">
              <div class="title">
                <label>ID o número de serie</label>
              </div>
              <ng-container *ngIf="isEditing; else viewNumeroSerie">
                <input formControlName="numeroSerie" type="text" />
              </ng-container>
              <ng-template #viewNumeroSerie>
                <label>{{ informeForm.get("numeroSerie")?.value }}</label>
              </ng-template>
              <label>Sello ALS</label>
              <label>2303023815042</label>
            </div>
            <div class="form-row">
              <div class="title">
                <label>Patente Vehículo</label>
              </div>
              <ng-container *ngIf="isEditing; else viewPatente">
                <input formControlName="patenteVehiculo" type="text" />
              </ng-container>
              <ng-template #viewPatente>
                <label>{{ informeForm.get("patenteVehiculo")?.value }}</label>
              </ng-template>
            </div>

            <div class="form-row">
              <div class="title">
                <label>Lugar de inspección y prueba</label>
              </div>
              <ng-container *ngIf="isEditing; else viewLugarInspeccion">
                <input formControlName="lugarInspeccion" type="text" />
              </ng-container>
              <ng-template #viewLugarInspeccion>
                <label>{{ informeForm.get("lugarInspeccion")?.value }}</label>
              </ng-template>
            </div>
            <div class="form-row">
              <div class="title">
                <label>Fecha de inspección y prueba</label>
              </div>
              <ng-container *ngIf="isEditing; else viewFechaInspeccion">
                <input formControlName="fechaInspeccion" type="date" />
              </ng-container>
              <ng-template #viewFechaInspeccion>
                <label>{{ informeForm.get("fechaInspeccion")?.value }}</label>
              </ng-template>
            </div>
            <div class="form-row">
              <div class="title">
                <label>Fecha de emisión informe</label>
              </div>
              <label>{{ fechaEmisionInforme }}</label>
            </div>
            <div class="subtitle">
              <h3 class="custom-h3">
                <strong>(CU)</strong> CUMPLE <strong>(N/C)</strong> NO CUMPLE NO
                APLICA
                <strong>(N/A)</strong>
                RECOMENDACIÓN
                <strong>(RE)</strong>
              </h3>
            </div>

            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              {{ tituloForm[0]?.nombre }}
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button (click)="toggleEditStatusA()">
                {{ isEditingStatusA ? "Cancelar" : "Editar" }}
              </button>
              <button *ngIf="isEditingStatusA" (click)="saveChangesStatusA()">
                Guardar
              </button>
            </div>
            <div class="form-row-A-F">
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
            </div>

            <div
              *ngFor="
                let item of itemsWithStatus | slice : 0 : 5;
                let i = index
              "
              class="form-row-A-F"
            >
              <!-- Primera columna, numeración del 1 al 5 -->
              <label class="center"
                ><strong>{{ i + 1 }}</strong></label
              >
              <label title="{{ item.detalle }}">{{ item.detalle }}</label>
              <div *ngIf="isEditingStatusA; else viewMode">
                <div class="options-list">
                  <form>
                    <label *ngFor="let option of optionStatus">
                      <input
                        type="radio"
                        name="option_{{ i }}"
                        [value]="option.idStatus"
                        [checked]="option.alias === item.alias"
                        (change)="
                          selectStatus(
                            itemsWithStatus[i],
                            option.idStatus.toString(),
                            i
                          )
                        "
                      />
                      {{ option.alias }}
                    </label>
                  </form>
                </div>
              </div>
              <ng-template #viewMode>
                <label class="center">{{ item.alias }}</label>
              </ng-template>

              <!-- Segunda columna, numeración del 6 al 9 -->
              <ng-container *ngIf="5 + i < itemsWithStatus.length && i < 4">
                <label class="center"
                  ><strong>{{ 6 + i }}</strong></label
                >
                <label title="{{ itemsWithStatus[5 + i].detalle }}">{{
                  itemsWithStatus[5 + i]?.detalle
                }}</label>
                <div *ngIf="isEditingStatusA; else viewMode2">
                  <div class="options-list">
                    <form>
                      <label *ngFor="let option of optionStatus">
                        <input
                          type="radio"
                          name="option_{{ 5 + i }}"
                          [value]="option.idStatus"
                          [checked]="
                            option.alias === itemsWithStatus[5 + i]?.alias
                          "
                          (change)="
                            selectStatus(
                              itemsWithStatus[5 + i],
                              option.idStatus.toString(),
                              5 + i
                            )
                          "
                        />
                        {{ option.alias }}
                      </label>
                    </form>
                  </div>
                </div>
                <ng-template #viewMode2>
                  <label class="center">{{
                    itemsWithStatus[5 + i]?.alias
                  }}</label>
                </ng-template>
              </ng-container>
              <!-- Espacio vacío para el ítem 10 -->
              <ng-container *ngIf="i === 4">
                <label class="center"><strong>-</strong></label>
                <label></label>
                <label></label>
              </ng-container>
            </div>

            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              {{ tituloForm[1].nombre }}
            </h2>
            <div *ngIf="!isPreviewMode">
              <button (click)="toggleEditStatusB()">
                {{ isEditingStatusB ? "Cancelar" : "Editar" }}
              </button>
              <button *ngIf="isEditingStatusB" (click)="saveChangesStatusB()">
                Guardar
              </button>
            </div>
            <div class="form-row-A-F">
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
            </div>
            <div
              *ngFor="
                let item of itemsWithStatus | slice : 9 : 17;
                let i = index
              "
              class="form-row-A-F"
            >
              <!-- Primera columna, numeración del 10 al 17 -->
              <label class="center"
                ><strong>{{ 10 + i }}</strong></label
              >
              <label title="{{ item.detalle }}">{{ item.detalle }}</label>
              <div *ngIf="isEditingStatusB; else viewMode">
                <div class="options-list">
                  <form>
                    <label *ngFor="let option of optionStatus">
                      <input
                        type="radio"
                        name="option_{{ 9 + i }}"
                        [value]="option.idStatus"
                        [checked]="option.alias === item.alias"
                        (change)="
                          selectStatus(
                            itemsWithStatus[9 + i],
                            option.idStatus.toString(),
                            9 + i
                          )
                        "
                      />
                      {{ option.alias }}
                    </label>
                  </form>
                </div>
              </div>
              <ng-template #viewMode>
                <label class="center">{{ item.alias }}</label>
              </ng-template>

              <!-- Segunda columna, numeración del 18 al 24 -->
              <ng-container *ngIf="17 + i < itemsWithStatus.length && i < 7">
                <label class="center"
                  ><strong>{{ 18 + i }}</strong></label
                >
                <label title="{{ itemsWithStatus[17 + i].detalle }}">
                  {{ itemsWithStatus[17 + i]?.detalle }}
                </label>
                <div *ngIf="isEditingStatusB; else viewMode2">
                  <div class="options-list">
                    <form>
                      <label *ngFor="let option of optionStatus">
                        <input
                          type="radio"
                          name="option_{{ 17 + i }}"
                          [value]="option.idStatus"
                          [checked]="
                            option.alias === itemsWithStatus[17 + i]?.alias
                          "
                          (change)="
                            selectStatus(
                              itemsWithStatus[17 + i],
                              option.idStatus.toString(),
                              17 + i
                            )
                          "
                        />
                        {{ option.alias }}
                      </label>
                    </form>
                  </div>
                </div>
                <ng-template #viewMode2>
                  <label class="center">{{
                    itemsWithStatus[17 + i]?.alias
                  }}</label>
                </ng-template>
              </ng-container>

              <!-- Espacio vacío para el ítem 25 -->
              <ng-container *ngIf="i === 7">
                <label class="center"><strong>-</strong></label>
                <label></label>
                <label></label>
              </ng-container>
            </div>
          </form>
        </div>
      </div>

      <div class="page">
        <div class="content">
          <form class="C-F">
            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              {{ tituloForm[2].nombre }}
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button type="button" (click)="toggleEditStatusC()">
                {{ isEditingStatusC ? "Cancelar" : "Editar" }}
              </button>
              <button
                type="button"
                *ngIf="isEditingStatusC"
                (click)="saveChangesStatusC()"
              >
                Guardar
              </button>
            </div>
            <div class="form-row-A-F">
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
            </div>
            <div
              *ngFor="
                let item of itemsWithStatus | slice : 24 : 29;
                let i = index
              "
              class="form-row-A-F"
            >
              <!-- Primera columna, numeración del 25 al 29 -->
              <label class="center"
                ><strong>{{ 25 + i }}</strong></label
              >
              <label title="{{ item.detalle }}">{{ item.detalle }}</label>
              <div *ngIf="isEditingStatusC; else viewModeC">
                <div class="options-list">
                  <label *ngFor="let option of optionStatus">
                    <input
                      type="radio"
                      name="option_{{ 24 + i }}"
                      [value]="option.idStatus"
                      [checked]="option.alias === item.alias"
                      (change)="
                        selectStatus(
                          itemsWithStatus[24 + i],
                          option.idStatus.toString(),
                          24 + i
                        )
                      "
                    />
                    {{ option.alias }}
                  </label>
                </div>
              </div>
              <ng-template #viewModeC>
                <label class="center">{{ item.alias }}</label>
              </ng-template>

              <!-- Segunda columna, numeración del 30 al 34 -->
              <ng-container *ngIf="29 + i < itemsWithStatus.length && i < 5">
                <label class="center"
                  ><strong>{{ 30 + i }}</strong></label
                >
                <label title="{{ itemsWithStatus[29 + i].detalle }}">
                  {{ itemsWithStatus[29 + i]?.detalle }}
                </label>
                <div *ngIf="isEditingStatusC; else viewModeC2">
                  <div class="options-list">
                    <label *ngFor="let option of optionStatus">
                      <input
                        type="radio"
                        name="option_{{ 29 + i }}"
                        [value]="option.idStatus"
                        [checked]="
                          option.alias === itemsWithStatus[29 + i]?.alias
                        "
                        (change)="
                          selectStatus(
                            itemsWithStatus[29 + i],
                            option.idStatus.toString(),
                            29 + i
                          )
                        "
                      />
                      {{ option.alias }}
                    </label>
                  </div>
                </div>
                <ng-template #viewModeC2>
                  <label class="center">{{
                    itemsWithStatus[29 + i]?.alias
                  }}</label>
                </ng-template>
              </ng-container>
            </div>

            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              {{ tituloForm[3].nombre }}
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button type="button" (click)="toggleEditStatusD()">
                {{ isEditingStatusD ? "Cancelar" : "Editar" }}
              </button>
              <button
                type="button"
                *ngIf="isEditingStatusD"
                (click)="saveChangesStatusD()"
              >
                Guardar
              </button>
            </div>
            <div class="form-row-A-F">
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
            </div>
            <div
              *ngFor="
                let item of itemsWithStatus | slice : 34 : 41;
                let i = index
              "
              class="form-row-A-F"
            >
              <!-- Primera columna, numeración del 35 al 41 -->
              <label class="center"
                ><strong>{{ 35 + i }}</strong></label
              >
              <label title="{{ item.detalle }}">{{ item.detalle }}</label>
              <div *ngIf="isEditingStatusD; else viewModeD">
                <div class="options-list">
                  <label *ngFor="let option of optionStatus">
                    <input
                      type="radio"
                      name="option_{{ 34 + i }}"
                      [value]="option.idStatus"
                      [checked]="option.alias === item.alias"
                      (change)="
                        selectStatus(
                          itemsWithStatus[34 + i],
                          option.idStatus.toString(),
                          34 + i
                        )
                      "
                    />
                    {{ option.alias }}
                  </label>
                </div>
              </div>
              <ng-template #viewModeD>
                <label class="center">{{ item.alias }}</label>
              </ng-template>

              <!-- Segunda columna, numeración del 42 al 47 -->
              <ng-container *ngIf="41 + i < itemsWithStatus.length && i < 6">
                <label class="center"
                  ><strong>{{ 42 + i }}</strong></label
                >
                <label title="{{ itemsWithStatus[41 + i].detalle }}">
                  {{ itemsWithStatus[41 + i]?.detalle }}
                </label>
                <div *ngIf="isEditingStatusD; else viewModeD2">
                  <div class="options-list">
                    <form>
                      <label *ngFor="let option of optionStatus">
                        <input
                          type="radio"
                          name="option_{{ 41 + i }}"
                          [value]="option.idStatus"
                          [checked]="
                            option.alias === itemsWithStatus[41 + i]?.alias
                          "
                          (change)="
                            selectStatus(
                              itemsWithStatus[41 + i],
                              option.idStatus.toString(),
                              41 + i
                            )
                          "
                        />
                        {{ option.alias }}
                      </label>
                    </form>
                  </div>
                </div>
                <ng-template #viewModeD2>
                  <label class="center">{{
                    itemsWithStatus[41 + i]?.alias
                  }}</label>
                </ng-template>
              </ng-container>

              <!-- Espacio en blanco para el ítem 48 -->
              <ng-container *ngIf="i === 6">
                <label class="center"><strong>-</strong></label>
                <label></label>
                <label></label>
              </ng-container>
            </div>

            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              {{ tituloForm[4].nombre }}
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button type="button" (click)="toggleEditStatusE()">
                {{ isEditingStatusE ? "Cancelar" : "Editar" }}
              </button>
              <button
                type="button"
                *ngIf="isEditingStatusE"
                (click)="saveChangesStatusE()"
              >
                Guardar
              </button>
            </div>
            <div class="form-row-A-F">
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
              <strong class="center">Item</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">Status</strong>
            </div>
            <div
              *ngFor="
                let item of itemsWithStatus | slice : 47 : 53;
                let i = index
              "
              class="form-row-A-F"
            >
              <!-- Primera columna, numeración del 48 al 53 -->
              <label class="center"
                ><strong>{{ 48 + i }}</strong></label
              >
              <label title="{{ item.detalle }}" class="detalle-column">{{
                item.detalle
              }}</label>
              <div
                *ngIf="isEditingStatusE; else viewModeE"
                class="options-container"
              >
                <div class="options-list">
                  <form>
                    <label *ngFor="let option of optionStatus">
                      <input
                        type="radio"
                        name="option_{{ 47 + i }}"
                        [value]="option.idStatus"
                        [checked]="option.alias === item.alias"
                        (change)="
                          selectStatus(
                            itemsWithStatus[47 + i],
                            option.idStatus.toString(),
                            47 + i
                          )
                        "
                      />
                      {{ option.alias }}
                    </label>
                  </form>
                </div>
              </div>
              <ng-template #viewModeE>
                <label class="center">{{ item.alias }}</label>
              </ng-template>

              <!-- Segunda columna, numeración del 54 al 58 -->
              <ng-container *ngIf="53 + i < itemsWithStatus.length && i < 5">
                <label class="center"
                  ><strong>{{ 54 + i }}</strong></label
                >
                <label
                  title="{{ itemsWithStatus[53 + i].detalle }}"
                  class="detalle-column"
                >
                  {{ itemsWithStatus[53 + i]?.detalle }}
                </label>
                <div
                  *ngIf="isEditingStatusE; else viewModeE2"
                  class="options-container"
                >
                  <div class="options-list">
                    <form>
                      <label *ngFor="let option of optionStatus">
                        <input
                          type="radio"
                          name="option_{{ 53 + i }}"
                          [value]="option.idStatus"
                          [checked]="
                            option.alias === itemsWithStatus[53 + i]?.alias
                          "
                          (change)="
                            selectStatus(
                              itemsWithStatus[53 + i],
                              option.idStatus.toString(),
                              53 + i
                            )
                          "
                        />
                        {{ option.alias }}
                      </label>
                    </form>
                  </div>
                </div>
                <ng-template #viewModeE2>
                  <label class="center">{{
                    itemsWithStatus[53 + i]?.alias
                  }}</label>
                </ng-template>
              </ng-container>

              <!-- Espacio en blanco para el ítem 59 -->
              <ng-container *ngIf="i === 5">
                <label class="center"><strong>-</strong></label>
                <label></label>
                <label></label>
              </ng-container>
            </div>

            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              {{ tituloForm[5].nombre }}
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button type="button" (click)="toggleEditStatusF()">
                {{ isEditingStatusF ? "Cancelar" : "Editar" }}
              </button>
              <button
                type="button"
                *ngIf="isEditingStatusF"
                (click)="saveChangesStatusF()"
              >
                Guardar
              </button>
            </div>
            <div class="form-row-A-F">
              <strong class="center">Ítem</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">IND.</strong>
              <strong class="center">Ítem</strong>
              <strong class="center">Detalle</strong>
              <strong class="center">IND.</strong>
            </div>
            <div
              *ngFor="
                let item of itemsWithStatus | slice : 58 : 66;
                let i = index
              "
              class="form-row-A-F"
            >
              <!-- Primera columna, numeración del 59 al 66 -->
              <label class="center"
                ><strong>{{ 59 + i }}</strong></label
              >
              <label title="{{ item.detalle }}">{{ item.detalle }}</label>
              <div *ngIf="isEditingStatusF; else viewModeF">
                <div class="options-list">
                  <form>
                    <label *ngFor="let option of optionStatus">
                      <input
                        type="radio"
                        name="option_{{ 58 + i }}"
                        [value]="option.idStatus"
                        [checked]="option.alias === item.alias"
                        (change)="
                          selectStatus(
                            itemsWithStatus[58 + i],
                            option.idStatus.toString(),
                            58 + i
                          )
                        "
                      />
                      {{ option.alias }}
                    </label>
                  </form>
                </div>
              </div>
              <ng-template #viewModeF>
                <label class="center">{{ item.alias }}</label>
              </ng-template>

              <!-- Segunda columna, numeración del 67 al 74 -->
              <ng-container *ngIf="66 + i < itemsWithStatus.length && i < 8">
                <label class="center"
                  ><strong>{{ 67 + i }}</strong></label
                >
                <label title="{{ itemsWithStatus[66 + i].detalle }}">{{
                  itemsWithStatus[66 + i]?.detalle
                }}</label>
                <div *ngIf="isEditingStatusF; else viewModeF2">
                  <div class="options-list">
                    <form>
                      <label *ngFor="let option of optionStatus">
                        <input
                          type="radio"
                          name="option_{{ 66 + i }}"
                          [value]="option.idStatus"
                          [checked]="
                            option.alias === itemsWithStatus[66 + i]?.alias
                          "
                          (change)="
                            selectStatus(
                              itemsWithStatus[66 + i],
                              option.idStatus.toString(),
                              66 + i
                            )
                          "
                        />
                        {{ option.alias }}
                      </label>
                    </form>
                  </div>
                </div>
                <ng-template #viewModeF2>
                  <label class="center">{{
                    itemsWithStatus[66 + i]?.alias
                  }}</label>
                </ng-template>
              </ng-container>
            </div>
          </form>
        </div>
      </div>

      <div class="page">
        <div class="content">
          <form class="G">
            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              {{ tituloForm[6].nombre }}
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button type="button" (click)="toggleEditDescription()">
                {{ isEditingFormG ? "Cancelar" : "Editar" }}
              </button>
              <button
                type="button"
                *ngIf="isEditingFormG"
                (click)="saveChangesDescription()"
              >
                Guardar
              </button>
            </div>
            <form class="padding-none">
              <div class="form-row-G">
                <strong class="center">ÍTEM</strong>
                <strong class="center">COND</strong>
                <strong class="center">DESCRIPCIÓN</strong>
              </div>

              <!-- Mostrar las descripciones -->
              <div [formGroup]="informeForm">
                <div
                  *ngFor="let descripcion of descripcionItems; let i = index"
                  class="form-row-G editInputFormG"
                >
                  <label class="center"
                    ><strong>{{ descripcion.idDetalle }}</strong></label
                  >
                  <label class="center">{{
                    getStatusLabel(descripcion.idStatus)
                  }}</label>

                  <div *ngIf="isEditingFormG; else viewModeFormG">
                    <input
                      [formControlName]="'descripcion_' + i"
                      type="text"
                      class="edit-input"
                    />
                  </div>
                  <ng-template #viewModeFormG>
                    <label>{{ descripcion.descripcion }}</label>
                  </ng-template>
                </div>
              </div>

              <!-- Mostrar filas vacías por defecto -->
              <div
                *ngFor="let i of defaultEmptyRows"
                class="form-row-G editInputFormG"
              >
                <label class="center"><strong>&nbsp;</strong></label>
                <label class="center">&nbsp;</label>
                <label class="center">&nbsp;</label>
              </div>
            </form>
            <h2>Notas en columna descripción:</h2>
            <ul>
              <h2>
                - La palabra <strong>“debe”</strong> indica un requisito.Se
                relaciona con una no conformidad (N/C) y debe ser corregida por
                el cliente.
              </h2>
              <h2>
                - La palabra <strong>“debería”</strong> indica una
                recomendación/observación (RE). Puede o no ser tratada por el
                cliente.
              </h2>
            </ul>
            <h3>
              Nota <span class="underline">muy importante</span>: Si
              correspondiesen acciones correctivas (por no conformidades, n/c),
              estas deberán ser solucionadas o tratadas por el cliente en el
              menor tiempo posible con el fin de reducir los riesgos asociados
              de mantener en operación un equipo sub-estándar.
            </h3>
            <h3 class="custom-h3 font-italic">
              Las observaciones importantes de seguridad (N/C) deberán, si
              corresponde, ser levantadas mediante el documento “levantamiento
              de no conformidades”.
            </h3>
          </form>
        </div>
      </div>

      <div class="page">
        <div class="content">
          <form class="H-H1">
            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              {{ tituloForm[7].nombre }}
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button type="button" (click)="toggleEditFormH()">
                {{ isEditingFormH ? "Cancelar" : "Editar" }}
              </button>
              <button
                type="button"
                *ngIf="isEditingFormH"
                (click)="saveFormHChanges()"
              >
                Guardar
              </button>
            </div>
            <form class="padding-none" [formGroup]="formH">
              <div class="form-row-H">
                <label class="paddingLeft"
                  ><strong>Fecha prueba de carga</strong></label
                >
                <ng-container *ngIf="isEditingFormH; else viewModeFecha">
                  <input formControlName="fechaPC" type="date" />
                </ng-container>
                <ng-template #viewModeFecha>
                  <label>{{ formHData?.fechaPC }}</label>
                </ng-template>
              </div>
              <!-- Campo Vigencia prueba de carga -->
              <div class="form-row-H">
                <label class="paddingLeft"
                  ><strong>Vigencia prueba de carga</strong>
                </label>
                <ng-container *ngIf="isEditingFormH; else viewModeVigencia">
                  <input formControlName="vigenciaPC" type="text" />
                </ng-container>
                <ng-template #viewModeVigencia>
                  <label>{{ formHData?.vigenciaPC }}</label>
                </ng-template>
              </div>
              <!-- Campo Lugar de prueba de carga -->
              <div class="form-row-H">
                <label class="paddingLeft"
                  ><strong>Lugar de prueba de carga</strong></label
                >
                <ng-container *ngIf="isEditingFormH; else viewModeLugar">
                  <input formControlName="lugarPC" type="text" />
                </ng-container>
                <ng-template #viewModeLugar>
                  <label>{{ formHData?.lugarPC }}</label>
                </ng-template>
              </div>
              <div class="form-row-H">
                <label class="paddingLeft"
                  ><strong
                    >Norma para certificación Carga de Prueba</strong
                  ></label
                >
                <!-- Valor fijo -->
                <label>ASME B30.5-2021, Capítulo 5-2.2.2 </label>
              </div>
              <div class="form-row-H equipo-medicion">
                <div class="titulo-columna">
                  <h4>Equipos / instrumentos de medición</h4>
                </div>
                <div class="equipo-datos">
                  <div class="equipo-header">
                    <label><strong>Nombre de equipo</strong></label>
                    <label><strong>SI</strong></label>
                    <label><strong>NO</strong></label>
                    <label><strong>Certificado Número</strong></label>
                  </div>
                  <div class="equipo-items">
                    <!-- Cinta métrica -->
                    <div class="form-row">
                      <label>Cinta métrica (flexómetro)</label>
                      <ng-container
                        *ngIf="isEditingFormH; else viewModeCintaMetrica"
                      >
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="cintaMetrica"
                            value="SI"
                          />
                        </label>
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="cintaMetrica"
                            value="NO"
                          />
                        </label>
                        <input
                          formControlName="cintaMetricaNCertificado"
                          type="text"
                        />
                      </ng-container>
                      <ng-template #viewModeCintaMetrica>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.cintaMetrica === "SI" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.cintaMetrica === "NO" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">{{
                          formHData?.cintaMetricaNCertificado !== "N/A"
                            ? formHData?.cintaMetricaNCertificado
                            : "N/A"
                        }}</label>
                      </ng-template>
                    </div>
                    <!-- Pie de metro -->
                    <div class="form-row">
                      <label>Pie de metro (caliper)</label>
                      <ng-container
                        *ngIf="isEditingFormH; else viewModePieMetro"
                      >
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="pie_metro"
                            value="SI"
                          />
                        </label>
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="pie_metro"
                            value="NO"
                          />
                        </label>
                        <input
                          formControlName="pie_metroNCertificado"
                          type="text"
                        />
                      </ng-container>
                      <ng-template #viewModePieMetro>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.pie_metro === "SI" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.pie_metro === "NO" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">{{
                          formHData?.pie_metroNCertificado !== "N/A"
                            ? formHData?.pie_metroNCertificado
                            : "N/A"
                        }}</label>
                      </ng-template>
                    </div>
                    <!-- Bolsas de agua -->
                    <div class="form-row">
                      <label>Bolsas de agua</label>
                      <ng-container
                        *ngIf="isEditingFormH; else viewModeBolsasAgua"
                      >
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="bolsasAgua"
                            value="SI"
                          />
                        </label>
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="bolsasAgua"
                            value="NO"
                          />
                        </label>
                        <input
                          formControlName="bolsasAguaNCertificado"
                          type="text"
                        />
                      </ng-container>
                      <ng-template #viewModeBolsasAgua>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.bolsasAgua === "SI" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.bolsasAgua === "NO" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">{{
                          formHData?.bolsasAguaNCertificado !== "N/A"
                            ? formHData?.bolsasAguaNCertificado
                            : "N/A"
                        }}</label>
                      </ng-template>
                    </div>
                    <!-- Masas -->
                    <div class="form-row">
                      <label>Masas</label>
                      <ng-container *ngIf="isEditingFormH; else viewModeMasas">
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="masas"
                            value="SI"
                          />
                        </label>
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="masas"
                            value="NO"
                          />
                        </label>
                        <input
                          formControlName="masasNCertificado"
                          type="text"
                        />
                      </ng-container>
                      <ng-template #viewModeMasas>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.masas === "SI" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.masas === "NO" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">{{
                          formHData?.masasNCertificado !== "N/A"
                            ? formHData?.masasNCertificado
                            : "N/A"
                        }}</label>
                      </ng-template>
                    </div>
                    <!-- Dinamómetro -->
                    <div class="form-row">
                      <label>Dinamómetro</label>
                      <ng-container
                        *ngIf="isEditingFormH; else viewModeDinamometro"
                      >
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="dinamometro"
                            value="SI"
                          />
                        </label>
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="dinamometro"
                            value="NO"
                          />
                        </label>
                        <input
                          formControlName="dinamometroNCertificado"
                          type="text"
                        />
                      </ng-container>
                      <ng-template #viewModeDinamometro>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.dinamometro === "SI" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.dinamometro === "NO" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">{{
                          formHData?.dinamometroNCertificado !== "N/A"
                            ? formHData?.dinamometroNCertificado
                            : "N/A"
                        }}</label>
                      </ng-template>
                    </div>
                    <!-- Caudalímetro -->
                    <div class="form-row">
                      <label>Caudalímetro</label>
                      <ng-container
                        *ngIf="isEditingFormH; else viewModeCaudalimetro"
                      >
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="caudalimetro"
                            value="SI"
                          />
                        </label>
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="caudalimetro"
                            value="NO"
                          />
                        </label>
                        <input
                          formControlName="caudalimetroNCertificado"
                          type="text"
                        />
                      </ng-container>
                      <ng-template #viewModeCaudalimetro>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.caudalimetro === "SI" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.caudalimetro === "NO" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">{{
                          formHData?.caudalimetroNCertificado !== "N/A"
                            ? formHData?.caudalimetroNCertificado
                            : "N/A"
                        }}</label>
                      </ng-template>
                    </div>
                    <!-- Otro (indicar) -->
                    <div class="form-row">
                      <ng-container *ngIf="isEditingFormH; else viewModeOtro">
                        <!-- Campo editable en modo edición -->
                        <label class="center">
                          <input
                            class="width-fill-available"
                            type="text"
                            formControlName="descripcionOtro"
                            placeholder="Indicar nombre del equipo"
                          />
                        </label>
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="otro"
                            value="SI"
                          />
                        </label>
                        <label class="center">
                          <input
                            type="radio"
                            formControlName="otro"
                            value="NO"
                          />
                        </label>
                        <input
                          formControlName="otroNCertificado"
                          type="text"
                          placeholder="Certificado Número"
                        />
                      </ng-container>
                      <ng-template #viewModeOtro>
                        <!-- Vista en modo solo lectura -->
                        <label>{{
                          formHData?.descripcionOtro !== "N/A"
                            ? formHData?.descripcionOtro
                            : "Otro (indicar)"
                        }}</label>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.otro === "SI" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">
                          <span class="cuadrado2">{{
                            formHData?.otro === "NO" ? "✖" : ""
                          }}</span>
                        </label>
                        <label class="center">{{
                          formHData?.otroNCertificado !== "N/A"
                            ? formHData?.otroNCertificado
                            : "N/A"
                        }}</label>
                      </ng-template>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-row-nominal primary-row-color">
                <label class="paddingLeft"
                  ><strong>Capacidad nominal</strong></label
                >
                <label><strong>Gancho principal</strong></label>

                <label>{{
                  informeForm.get("capLevanteMaxGanchoPrin")?.value !== 0
                    ? informeForm.get("capLevanteMaxGanchoPrin")?.value
                    : "N/A"
                }}</label>

                <label>kg</label>

                <label><strong>Gancho aux.</strong></label>
                <label>{{
                  informeForm.get("capLevanteMaxGanchoAux")?.value !== 0
                    ? informeForm.get("capLevanteMaxGanchoAux")?.value
                    : "N/A"
                }}</label>

                <label>kg</label>
              </div>

              <div class="form-row-nominal border-right">
                <label class="paddingLeft"
                  ><strong>Contrapesos de la grúa</strong></label
                >
                <ng-container *ngIf="isEditingFormH; else viewModeContrapesos">
                  <input
                    formControlName="contrapasesGrua"
                    type="text"
                    placeholder="Indicar cantidad y peso"
                  />
                </ng-container>
                <ng-template #viewModeContrapesos>
                  <label>{{ formHData?.contrapasesGrua }}</label>
                </ng-template>
                <label>kg</label>
              </div>

              <!-- Campo para Operador (NOMBRE/RUT) -->
              <div class="form-row-single">
                <label class="paddingLeft"
                  ><strong>Operador (NOMBRE/RUT)</strong></label
                >
                <!-- Modo de edición -->
                <ng-container *ngIf="isEditingFormH; else viewModeOperador">
                  <input
                    formControlName="nombreOperador"
                    placeholder="Ingrese nombre y RUT del operador"
                  />
                </ng-container>
                <!-- Modo de visualización -->
                <ng-template #viewModeOperador>
                  <label>{{ formH.get("nombreOperador")?.value }}</label>
                </ng-template>
              </div>
              <!-- Campo para Inspector ALS (NOMBRE/RUT) -->
              <div class="form-row-single">
                <label class="paddingLeft">
                  <strong
                    >Inspector ALS (NOMBRE/RUT)
                    <span class="required">*</span></strong
                  >
                </label>
                <!-- Modo de edición -->
                <ng-container *ngIf="isEditingFormH; else viewModeInspector">
                  <div class="input-group">
                    <input
                      formControlName="nombreRutInspector"
                      placeholder="Nombre y RUT del Inspector"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid':
                          formH.get('nombreRutInspector')?.invalid &&
                          formH.get('nombreRutInspector')?.touched
                      }"
                    />
                    <!-- Mensaje de advertencia si no se ha llenado -->
                    <div
                      *ngIf="
                        formH.get('nombreRutInspector')?.invalid &&
                        formH.get('nombreRutInspector')?.touched
                      "
                      class="invalid-feedback"
                    >
                      Este campo es obligatorio.
                    </div>
                  </div>
                </ng-container>
                <!-- Modo de visualización -->
                <ng-template #viewModeInspector>
                  <label
                    *ngIf="
                      formH.get('nombreRutInspector')?.value;
                      else emptyInspector
                    "
                  >
                    {{ formH.get("nombreRutInspector")?.value }}
                  </label>
                  <!-- Mensaje si está vacío -->
                  <ng-template #emptyInspector>
                    <label class="warning">Pendiente de completar</label>
                  </ng-template>
                </ng-template>
              </div>
              <br /><br />
              <div class="union">
                <label class="center title-item"><strong>Ítem</strong></label>
                <label class="center subtitle-item">Radio</label>
                <label class="center subtitle-item">Extensión pluma</label>
                <label class="center subtitle-item">Ángulo pluma</label>
                <label class="center subtitle-item">Cuadrante</label>
                <label class="center subtitle-item"
                  >Capacidad según tabla</label
                >
                <label class="center subtitle-item"
                  >Carga de prueba aplicada</label
                >
                <label class="center subtitle-item"
                  >% de la capacidad nominal</label
                >
              </div>
              <div class="union-gancho1">
                <label class="center title-item"
                  ><strong>Gancho Principal</strong></label
                >
                <ng-container
                  *ngIf="isEditingFormH; else viewModeGanchoPrincipal"
                >
                  <label class="center align-content-center">
                    <input formControlName="radio" type="text" class="center" />
                  </label>
                  <label class="center align-content-center">
                    <input
                      formControlName="extensionPluma"
                      type="text"
                      class="center align-content-center"
                    />
                  </label>
                  <label class="center align-content-center">
                    <input
                      formControlName="anguloPluma"
                      type="text"
                      class="center align-content-center"
                    />
                  </label>
                  <label class="center align-content-center">
                    <input
                      formControlName="cuadrante"
                      type="text"
                      class="center align-content-center"
                    />
                  </label>
                  <label class="center align-content-center">
                    <input
                      formControlName="capacidadSegunTabla"
                      type="text"
                      class="center align-content-center"
                    />
                  </label>
                  <label class="center align-content-center">
                    <input
                      formControlName="cargaPruebaGancho"
                      type="text"
                      class="center align-content-center"
                    />
                  </label>
                  <label class="center align-content-center">kg</label>
                  <label class="center align-content-center">
                    <input
                      formControlName="porcentajeCapacidadNominal"
                      type="text"
                      class="center"
                    />
                  </label>
                  <label class="center align-content-center">%</label>
                </ng-container>
                <ng-template #viewModeGanchoPrincipal>
                  <label class="center align-content-center"
                    >{{ formHData?.radio }} m</label
                  >
                  <label class="center align-content-center"
                    >{{ formHData?.extensionPluma }} m</label
                  >
                  <label class="center align-content-center"
                    >{{ formHData?.anguloPluma }}°</label
                  >
                  <label class="center align-content-center">{{
                    formHData?.cuadrante
                  }}</label>
                  <label class="center align-content-center"
                    >{{ formHData?.capacidadSegunTabla }} kg</label
                  >
                  <label class="center align-content-center"
                    >{{ formHData?.cargaPruebaGancho }} kg</label
                  >
                  <label class="center align-content-center">kg</label>
                  <label class="center align-content-center">{{
                    formHData?.porcentajeCapacidadNominal
                  }}</label>
                  <label class="center align-content-center">%</label>
                </ng-template>
              </div>
              <div class="union-gancho2">
                <label class="center title-item"
                  ><strong>Gancho Auxiliar</strong></label
                >
                <ng-container
                  *ngIf="isEditingFormH; else viewModeGanchoAuxiliar"
                >
                  <label class="center">
                    <input
                      formControlName="radioAuxiliar"
                      type="text"
                      class="center"
                    />
                  </label>
                  <label class="center">
                    <input
                      formControlName="extensionPlumaAuxiliar"
                      type="text"
                      class="center"
                    />
                  </label>
                  <label class="center">
                    <input
                      formControlName="anguloPlumaAuxiliar"
                      type="text"
                      class="center"
                    />
                  </label>
                  <label class="center">
                    <input
                      formControlName="cuadranteAuxiliar"
                      type="text"
                      class="center"
                    />
                  </label>
                  <label class="center">
                    <input
                      formControlName="capacidadSegunTablaAuxiliar"
                      type="text"
                      class="center"
                    />
                  </label>
                  <label class="center">
                    <input
                      formControlName="cargaPruebaGanchoAuxiliar"
                      type="text"
                      class="center"
                    />
                  </label>
                  <label class="center align-content-center">kg</label>
                  <label class="center">
                    <input
                      formControlName="porcentajeCapacidadNominalAuxiliar"
                      type="text"
                      class="center"
                    />
                  </label>
                  <label class="center align-content-center">%</label>
                </ng-container>
                <ng-template #viewModeGanchoAuxiliar>
                  <label class="center align-content-center">
                    {{
                      formHData?.radioAuxiliar !== 0
                        ? formHData?.radioAuxiliar + " m"
                        : "N/A"
                    }}
                  </label>
                  <label class="center align-content-center">
                    {{
                      formHData?.extensionPlumaAuxiliar !== 0
                        ? formHData?.extensionPlumaAuxiliar + " m"
                        : "N/A"
                    }}
                  </label>
                  <label class="center align-content-center">
                    {{
                      formHData?.anguloPlumaAuxiliar !== 0
                        ? formHData?.anguloPlumaAuxiliar + "°"
                        : "N/A"
                    }}
                  </label>
                  <label class="center align-content-center">
                    {{
                      formHData?.cuadranteAuxiliar !== 0
                        ? formHData?.cuadranteAuxiliar
                        : "N/A"
                    }}
                  </label>
                  <label class="center align-content-center">
                    {{
                      formHData?.capacidadSegunTablaAuxiliar !== 0
                        ? formHData?.capacidadSegunTablaAuxiliar + " kg"
                        : "N/A"
                    }}
                  </label>
                  <label class="center align-content-center">
                    {{
                      formHData?.cargaPruebaGanchoAuxiliar !== 0
                        ? formHData?.cargaPruebaGanchoAuxiliar + " kg"
                        : "N/A"
                    }}
                  </label>
                  <label class="center align-content-center">kg</label>
                  <label class="center align-content-center">
                    {{
                      formHData?.porcentajeCapacidadNominalAuxiliar !== 0
                        ? formHData?.porcentajeCapacidadNominalAuxiliar
                        : "N/A"
                    }}
                  </label>
                  <label class="center align-content-center">%</label>
                </ng-template>
              </div>
            </form>

            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              <strong>{{ tituloForm[8].nombre }}</strong>
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button type="button" (click)="toggleEditFormH1()">
                {{ isEditingFormH1 ? "Cancelar" : "Editar" }}
              </button>
              <button
                type="button"
                *ngIf="isEditingFormH1"
                (click)="saveFormH1Changes()"
              >
                Guardar
              </button>
            </div>
            <div class="titulo-h1 center primary-row-color">
              <label><strong>Medición</strong></label>
              <label><strong>Antes</strong></label>
              <label><strong>Después</strong></label>
              <label><strong>Hora inicio</strong></label>
              <label><strong>Hora término</strong></label>
              <label><strong>Resultado</strong></label>
            </div>

            <form class="padding-none" [formGroup]="formH1">
              <div class="datos-h1 center">
                <label><strong>#1</strong></label>
                <ng-container *ngIf="isEditingFormH1; else viewModeH1">
                  <div class="editInputFormH1">
                    <input type="number" formControlName="ganchoAntes" />
                    <label>cm</label>
                    <input type="number" formControlName="ganchoDespues" />
                    <label>cm</label>
                  </div>
                  <input
                    type="number"
                    formControlName="ganchoHInicio"
                    min="0"
                    max="24"
                    placeholder="00-24"
                  />
                  <input
                    type="number"
                    formControlName="ganchoHTermino"
                    min="0"
                    max="24"
                    placeholder="00-24"
                  />
                  <select formControlName="ganchoResultado">
                    <option value="satisfactorio">SATISFACTORIO</option>
                    <option value="insatisfactorio">INSATISFACTORIO</option>
                  </select>
                </ng-container>
                <ng-template #viewModeH1>
                  <label>{{ formH1.get("ganchoAntes")?.value }}</label>
                  <label>cm</label>
                  <label>{{ formH1.get("ganchoDespues")?.value }}</label>
                  <label>cm</label>
                  <label>{{ formH1.get("ganchoHInicio")?.value }}:00</label>
                  <label>{{ formH1.get("ganchoHTermino")?.value }}:00</label>
                  <label>
                    {{
                      formH1.get("ganchoResultado")?.value === "satisfactorio"
                        ? "SATISFACTORIO"
                        : formH1.get("ganchoResultado")?.value ===
                          "insatisfactorio"
                        ? "INSATISFACTORIO"
                        : "N/A"
                    }}
                  </label>
                </ng-template>
              </div>

              <div class="datos-h1 center">
                <label><strong>#2</strong></label>
                <ng-container *ngIf="isEditingFormH1; else viewModeH2">
                  <div class="editInputFormH1">
                    <input type="number" formControlName="ganchoAuxAntes" />
                    <label>cm</label>
                    <input type="number" formControlName="ganchoAuxDespues" />
                    <label>cm</label>
                  </div>
                  <input
                    type="number"
                    formControlName="ganchoAuxHInicio"
                    min="0"
                    max="24"
                    placeholder="00-24"
                  />
                  <input
                    type="number"
                    formControlName="ganchoAuxHTermino"
                    min="0"
                    max="24"
                    placeholder="00-24"
                  />
                  <select formControlName="ganchoAuxResultado">
                    <option value="satisfactorio">SATISFACTORIO</option>
                    <option value="insatisfactorio">INSATISFACTORIO</option>
                  </select>
                </ng-container>
                <ng-template #viewModeH2>
                  <label>{{
                    formH1.get("ganchoAuxAntes")?.value !== 0
                      ? formH1.get("ganchoAuxAntes")?.value
                      : "N/A"
                  }}</label>
                  <label>cm</label>
                  <label>{{
                    formH1.get("ganchoAuxDespues")?.value !== 0
                      ? formH1.get("ganchoAuxDespues")?.value
                      : "N/A"
                  }}</label>
                  <label>cm</label>
                  <label>{{
                    formH1.get("ganchoAuxHInicio")?.value !== 0
                      ? formH1.get("ganchoAuxHInicio")?.value + ":00"
                      : "N/A"
                  }}</label>
                  <label>{{
                    formH1.get("ganchoAuxHTermino")?.value !== 0
                      ? formH1.get("ganchoAuxHTermino")?.value + ":00"
                      : "N/A"
                  }}</label>
                  <label>
                    {{
                      formH1.get("ganchoAuxResultado")?.value ===
                      "satisfactorio"
                        ? "SATISFACTORIO"
                        : formH1.get("ganchoAuxResultado")?.value ===
                          "insatisfactorio"
                        ? "INSATISFACTORIO"
                        : "N/A"
                    }}
                  </label>
                </ng-template>
              </div>
              <!-- Comentarios -->
              <div class="border-color">
                <div class="form-row comentario">
                  <label class="border-none"
                    ><strong>Comentarios:</strong></label
                  >
                  <ng-container
                    *ngIf="isEditingFormH1; else viewModeComentarios"
                  >
                    <textarea
                      formControlName="comentarios"
                      rows="1"
                      maxlength="500"
                      class="inline-textarea"
                    ></textarea>
                  </ng-container>
                  <ng-template #viewModeComentarios>
                    <label class="border-none">
                      <strong>{{ formH1Data?.comentarios }}</strong>
                    </label>
                  </ng-template>
                </div>
              </div>
            </form>
          </form>
        </div>
      </div>

      <div class="page">
        <div class="content">
          <form class="H2-I">
            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              <strong>{{ tituloForm[9].nombre }}</strong>
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button type="button" (click)="toggleEditFormH2()">
                {{ isEditingFormH2 ? "Cancelar" : "Editar" }}
              </button>
              <button
                type="button"
                *ngIf="isEditingFormH2"
                (click)="saveFormH2Changes()"
              >
                Guardar
              </button>
            </div>
            <form class="padding-none" [formGroup]="formH2">
              <div class="unionH2">
                <div class="title-part4">
                  <div class="title-part3">
                    <label class="paddingLeft"
                      ><strong>GANCHO DOBLE</strong></label
                    >
                    <label class="center justifyCenter"
                      ><strong>Antes de la prueba</strong></label
                    >
                    <label class="center justifyCenter"
                      ><strong>Después de la prueba</strong></label
                    >
                  </div>
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud A-B</strong></label
                    >
                    <ng-container *ngIf="isEditingFormH2; else viewModeAB">
                      <input type="number" formControlName="longitudUABAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longitudUABDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeAB>
                      <label class="center">{{
                        formH2.get("longitudUABAntes")?.value !== 0
                          ? formH2.get("longitudUABAntes")?.value
                          : "N/A"
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2.get("longitudUABDesp")?.value !== 0
                          ? formH2.get("longitudUABDesp")?.value
                          : "N/A"
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud B-C</strong></label
                    >
                    <ng-container *ngIf="isEditingFormH2; else viewModeBC">
                      <input type="number" formControlName="longitudDBCAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longitudDBCDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeBC>
                      <label class="center">{{
                        formH2.get("longitudDBCAntes")?.value !== 0
                          ? formH2.get("longitudDBCAntes")?.value
                          : "N/A"
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2.get("longitudDBCDesp")?.value !== 0
                          ? formH2.get("longitudDBCDesp")?.value
                          : "N/A"
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud A-B'</strong></label
                    >
                    <ng-container *ngIf="isEditingFormH2; else viewModeABp">
                      <input type="number" formControlName="longitudTABAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longitudTABDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeABp>
                      <label class="center">{{
                        formH2.get("longitudTABAntes")?.value !== 0
                          ? formH2.get("longitudTABAntes")?.value
                          : "N/A"
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2.get("longitudTABDesp")?.value !== 0
                          ? formH2.get("longitudTABDesp")?.value
                          : "N/A"
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud B-C'</strong></label
                    >
                    <ng-container *ngIf="isEditingFormH2; else viewModeBCp">
                      <input type="number" formControlName="longitudCBCAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longitudCBCDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeBCp>
                      <label class="center">{{
                        formH2.get("longitudCBCAntes")?.value !== 0
                          ? formH2.get("longitudCBCAntes")?.value
                          : "N/A"
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2.get("longitudCBCDesp")?.value !== 0
                          ? formH2.get("longitudCBCDesp")?.value
                          : "N/A"
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                </div>
                <label>
                  <div class="imgH2">
                    <img
                      src="assets/formulario_puente/tipo_doble.jpg"
                      alt="Tipo doble"
                    />
                  </div>
                </label>
              </div>

              <div
                class="form-row"
                [ngClass]="{
                  resultadoH2: !isEditingFormH2,
                  flex: isEditingFormH2
                }"
              >
                <label class="text-right"><strong>Resultado (X)</strong></label>
                <ng-container *ngIf="isEditingFormH2; else viewModeResultDoble">
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      formControlName="longitudResulDoble"
                      [checked]="
                        formH2.get('longitudResulDoble')?.value ===
                        'satisfactorio'
                      "
                      value="satisfactorio"
                    />
                    Satisfactorio
                  </label>
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      formControlName="longitudResulDoble"
                      [checked]="
                        formH2.get('longitudResulDoble')?.value ===
                        'insatisfactorio'
                      "
                      value="insatisfactorio"
                    />
                    Insatisfactorio
                  </label>
                </ng-container>
                <ng-template #viewModeResultDoble>
                  <label class="text-right">Satisfactorio</label>
                  <label class="center">
                    <span class="cuadradoH2">
                      <span
                        *ngIf="
                          formH2.get('longitudResulDoble')?.value ===
                          'satisfactorio'
                        "
                        >✖</span
                      >
                    </span>
                  </label>
                  <label class="text-right">Insatisfactorio</label>
                  <label class="center">
                    <span class="cuadradoH2">
                      <span
                        *ngIf="
                          formH2.get('longitudResulDoble')?.value ===
                          'insatisfactorio'
                        "
                        >✖</span
                      >
                    </span>
                  </label>
                </ng-template>
              </div>
              <div class="unionH2">
                <div class="title-part4">
                  <div class="title-part3">
                    <label class="paddingLeft"
                      ><strong>GANCHO SIMPLE</strong></label
                    >
                    <label class="center justifyCenter"
                      ><strong>Antes de la prueba</strong></label
                    >
                    <label class="center justifyCenter"
                      ><strong>Después de la prueba</strong></label
                    >
                  </div>
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud A-B</strong></label
                    >
                    <ng-container
                      *ngIf="isEditingFormH2; else viewModeSimpleAB"
                    >
                      <input type="number" formControlName="longDABAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longDABDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeSimpleAB>
                      <label class="center">{{
                        formH2.get("longDABAntes")?.value
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2.get("longDABDesp")?.value
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud B-C</strong></label
                    >
                    <ng-container
                      *ngIf="isEditingFormH2; else viewModeSimpleBC"
                    >
                      <input type="number" formControlName="longDBCAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longDBCDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeSimpleBC>
                      <label class="center">{{
                        formH2.get("longDBCAntes")?.value
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2.get("longDBCDesp")?.value
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                </div>
                <label>
                  <div class="imgH2">
                    <img
                      src="assets/formulario_puente/tipo_simple.jpg"
                      alt="Tipo simple"
                    />
                  </div>
                </label>
              </div>
              <!-- Resultado para Gancho Simple -->
              <div
                class="form-row"
                [ngClass]="{
                  resultadoH2: !isEditingFormH2,
                  flex: isEditingFormH2
                }"
              >
                <label class="text-right"><strong>Resultado (X)</strong></label>
                <ng-container
                  *ngIf="isEditingFormH2; else viewModeResultSimple"
                >
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      formControlName="longResulSimple"
                      [checked]="
                        formH2.get('longResulSimple')?.value === 'satisfactorio'
                      "
                      value="satisfactorio"
                    />
                    Satisfactorio
                  </label>
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      formControlName="longResulSimple"
                      [checked]="
                        formH2.get('longResulSimple')?.value ===
                        'insatisfactorio'
                      "
                      value="insatisfactorio"
                    />
                    Insatisfactorio
                  </label>
                </ng-container>
                <ng-template #viewModeResultSimple>
                  <label class="text-right">Satisfactorio</label>
                  <label class="center">
                    <span class="cuadradoH2">
                      <span
                        *ngIf="
                          formH2.get('longResulSimple')?.value ===
                          'satisfactorio'
                        "
                        >✖</span
                      >
                    </span>
                  </label>
                  <label class="text-right">Insatisfactorio</label>
                  <label class="center">
                    <span class="cuadradoH2">
                      <span
                        *ngIf="
                          formH2.get('longResulSimple')?.value ===
                          'insatisfactorio'
                        "
                        >✖</span
                      >
                    </span>
                  </label>
                </ng-template>
              </div>
              <div class="unionH2">
                <div class="title-part4">
                  <div class="title-part3">
                    <label class="paddingLeft"
                      ><strong>GANCHO SIMPLE</strong></label
                    >
                    <label class="center justifyCenter"
                      ><strong>Antes de la prueba</strong></label
                    >
                    <label class="center justifyCenter"
                      ><strong>Después de la prueba</strong></label
                    >
                  </div>
                  <!-- Longitud A-B -->
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud A-B</strong></label
                    >
                    <ng-container
                      *ngIf="
                        isEditingFormH2 && formH2Data?.longGSABAntes !== 0;
                        else viewModeGSAB
                      "
                    >
                      <input type="number" formControlName="longGSABAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longGSABDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeGSAB>
                      <label class="center">{{
                        formH2Data?.longGSABAntes === 0
                          ? "N/A"
                          : formH2Data?.longGSABAntes
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2Data?.longGSABDesp === 0
                          ? "N/A"
                          : formH2Data?.longGSABDesp
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                  <!-- Longitud B-C -->
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud B-C</strong></label
                    >
                    <ng-container
                      *ngIf="
                        isEditingFormH2 && formH2Data?.longGSBCAntes !== 0;
                        else viewModeGSBC
                      "
                    >
                      <input type="number" formControlName="longGSBCAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longGSBCDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeGSBC>
                      <label class="center">{{
                        formH2Data?.longGSBCAntes === 0
                          ? "N/A"
                          : formH2Data?.longGSBCAntes
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2Data?.longGSBCDesp === 0
                          ? "N/A"
                          : formH2Data?.longGSBCDesp
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                </div>
                <label>
                  <div class="imgH2">
                    <img
                      src="assets/formulario_puente/tipo_simple.jpg"
                      alt="Tipo simple"
                    />
                  </div>
                </label>
              </div>
              <!-- Resultado para Gancho Simple -->
              <div
                class="form-row"
                [ngClass]="{
                  resultadoH2: !isEditingFormH2,
                  flex: isEditingFormH2
                }"
              >
                <label class="text-right"><strong>Resultado (X)</strong></label>
                <ng-container
                  *ngIf="
                    isEditingFormH2 && formH2Data?.longResulSimpleDos !== 'N/A';
                    else viewModeResultSimpleDos
                  "
                >
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      formControlName="longResulSimpleDos"
                      [checked]="
                        formH2Data?.longResulSimpleDos === 'satisfactorio'
                      "
                      value="satisfactorio"
                    />
                    Satisfactorio
                  </label>
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      formControlName="longResulSimpleDos"
                      [checked]="
                        formH2Data?.longResulSimpleDos === 'insatisfactorio'
                      "
                      value="insatisfactorio"
                    />
                    Insatisfactorio
                  </label>
                </ng-container>
                <ng-template #viewModeResultSimpleDos>
                  <label class="text-right">Satisfactorio</label>
                  <label class="center">
                    <span class="cuadradoH2">
                      <span
                        *ngIf="
                          formH2Data?.longResulSimpleDos === 'satisfactorio'
                        "
                        >✖</span
                      >
                    </span>
                  </label>
                  <label class="text-right">Insatisfactorio</label>
                  <label class="center">
                    <span class="cuadradoH2">
                      <span
                        *ngIf="
                          formH2Data?.longResulSimpleDos === 'insatisfactorio'
                        "
                        >✖</span
                      >
                    </span>
                  </label>
                </ng-template>
              </div>
              <div class="unionH2">
                <div class="title-part4">
                  <div class="title-part3">
                    <label class="paddingLeft"
                      ><strong>GANCHO SIMPLE TRES</strong></label
                    >
                    <label class="center justifyCenter"
                      ><strong>Antes de la prueba</strong></label
                    >
                    <label class="center justifyCenter"
                      ><strong>Después de la prueba</strong></label
                    >
                  </div>
                  <!-- Longitud A-B -->
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud A-B</strong></label
                    >
                    <ng-container
                      *ngIf="
                        isEditingFormH2 && formH2Data?.longGSATBAntes !== 0;
                        else viewModeGSATB
                      "
                    >
                      <input type="number" formControlName="longGSATBAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longGSATBDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeGSATB>
                      <label class="center">{{
                        formH2Data?.longGSATBAntes === 0
                          ? "N/A"
                          : formH2Data?.longGSATBAntes
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2Data?.longGSATBDesp === 0
                          ? "N/A"
                          : formH2Data?.longGSATBDesp
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                  <!-- Longitud B-C -->
                  <div class="form-row datos-h2">
                    <label class="paddingLeft"
                      ><strong>Longitud B-C</strong></label
                    >
                    <ng-container
                      *ngIf="
                        isEditingFormH2 && formH2Data?.longGSBTCAntes !== 0;
                        else viewModeGSBTC
                      "
                    >
                      <input type="number" formControlName="longGSBTCAntes" />
                      <label class="center">cm</label>
                      <input type="number" formControlName="longGSBTCDesp" />
                      <label class="center">cm</label>
                    </ng-container>
                    <ng-template #viewModeGSBTC>
                      <label class="center">{{
                        formH2Data?.longGSBTCAntes === 0
                          ? "N/A"
                          : formH2Data?.longGSBTCAntes
                      }}</label>
                      <label class="center">cm</label>
                      <label class="center">{{
                        formH2Data?.longGSBTCDesp === 0
                          ? "N/A"
                          : formH2Data?.longGSBTCDesp
                      }}</label>
                      <label class="center">cm</label>
                    </ng-template>
                  </div>
                </div>
                <label>
                  <div class="imgH2">
                    <img
                      src="assets/formulario_puente/tipo_simple.jpg"
                      alt="Tipo simple tres"
                    />
                  </div>
                </label>
              </div>
              <!-- Resultado para Gancho Simple Tres -->
              <div
                class="form-row"
                [ngClass]="{
                  resultadoH2: !isEditingFormH2,
                  flex: isEditingFormH2
                }"
              >
                <label class="text-right"><strong>Resultado (X)</strong></label>
                <ng-container
                  *ngIf="
                    isEditingFormH2 &&
                      formH2Data?.longResulSimpleTres !== 'N/A';
                    else viewModeResultSimpleTres
                  "
                >
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      formControlName="longResulSimpleTres"
                      [checked]="
                        formH2Data?.longResulSimpleTres === 'satisfactorio'
                      "
                      value="satisfactorio"
                    />
                    Satisfactorio
                  </label>
                  <label class="cursor-pointer">
                    <input
                      type="radio"
                      formControlName="longResulSimpleTres"
                      [checked]="
                        formH2Data?.longResulSimpleTres === 'insatisfactorio'
                      "
                      value="insatisfactorio"
                    />
                    Insatisfactorio
                  </label>
                </ng-container>
                <ng-template #viewModeResultSimpleTres>
                  <label class="text-right">Satisfactorio</label>
                  <label class="center">
                    <span class="cuadradoH2">
                      <span
                        *ngIf="
                          formH2Data?.longResulSimpleTres === 'satisfactorio'
                        "
                        >✖</span
                      >
                    </span>
                  </label>
                  <label class="text-right">Insatisfactorio</label>
                  <label class="center">
                    <span class="cuadradoH2">
                      <span
                        *ngIf="
                          formH2Data?.longResulSimpleTres === 'insatisfactorio'
                        "
                        >✖</span
                      >
                    </span>
                  </label>
                </ng-template>
              </div>
            </form>

            <br />
            <br />
            <br />
            <h2 class="subtitle" *ngIf="tituloForm.length > 0">
              {{ tituloForm[10].nombre }}
            </h2>
            <div *ngIf="!isPreviewMode" class="edit-save-buttons">
              <button type="button" (click)="toggleEditFormI()">
                {{ isEditingFormI ? "Cancelar" : "Editar" }}
              </button>
              <button
                type="button"
                *ngIf="isEditingFormI"
                (click)="saveFormIChanges()"
              >
                Guardar
              </button>
            </div>
            <form class="padding-none" [formGroup]="informeForm">
              <div class="resultGeneral">
                <h3 class="justifySelfEnd">INDICACIÓN (✖)</h3>
                <h3>SI</h3>
                <h3>NO</h3>
              </div>
              <div
                class="form-row resultGeneral border-color primary-row-color"
              >
                <label class="font-size-20"
                  ><strong
                    >Conforme a la inspección y prueba de carga, la grúa puente
                    se encuentra aprobada y puede ser operada de manera segura
                    para la capacidad indicada.</strong
                  ></label
                >
                <!-- Modo Edición -->
                <ng-container
                  *ngIf="isEditingFormI; else viewModeResultGeneral"
                >
                  <label class="center cursor-pointer">
                    <input type="radio" formControlName="idResul" [value]="1" />
                    SI
                  </label>
                  <label class="center cursor-pointer">
                    <input type="radio" formControlName="idResul" [value]="2" />
                    NO
                  </label>
                </ng-container>
                <!-- Modo Visualización -->
                <ng-template #viewModeResultGeneral>
                  <label class="center">
                    <span class="cuadradoH2">{{
                      selectedInforme.idResul === 1 ? "✖" : ""
                    }}</span>
                  </label>
                  <label class="center">
                    <span class="cuadradoH2">{{
                      selectedInforme.idResul === 2 ? "✖" : ""
                    }}</span>
                  </label>
                </ng-template>
              </div>
            </form>
            <h3 class="custom-h3 font-size-30">
              Documento asociado: Certificado de Inspección y Prueba de Carga
              (Solo en caso de pasar satisfactoriamente inspección).
              {{ informeForm.get("numeroInforme")?.value }}
            </h3>
          </form>
        </div>
      </div>

      <br /><br /><br /><br /><br /><br />

      <div class="page">
        <div class="content">
          <div class="center justifyCenter">
            <h3 class="custom-h3 font-size-25">
              Este informe se realizó sin prejuicio de ningún tipo y para el
              interés de quien <br />concierna.
            </h3>
          </div>
          <br /><br /><br /><br /><br /><br />
          <h4 class="center justifyCenter">
            Nombre y firma <br />INSPECTOR <br />ALS Inspection Chile SPA
          </h4>
        </div>
      </div>

      <br /><br /><br /><br /><br /><br />

      <div class="page">
        <div class="content">
          <form class="J">
            <h2
              class="center justifyCenter font-size-xxxlarge"
              *ngIf="tituloForm.length > 0"
            >
              <strong>{{ tituloForm[11].nombre }}</strong>
            </h2>
            <div class="photo-grid">
              <div *ngFor="let photo of photos" class="photo-item">
                <img
                  [src]="'data:image/png;base64,' + photo.data"
                  [alt]="photo.descripcionSF"
                />
                <span>{{ photo.descripcionSF }}</span>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
