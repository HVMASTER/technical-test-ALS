<div *ngIf="informes" class="list-container">
    <div *ngIf="!selectedInforme" class="informes-list">
      <ul>
        <li *ngFor="let informe of informes" (click)="selectInforme(informe)">          
          {{ informe.numeroInforme }}
        </li>
      </ul>
    </div>
</div>
<button (click)="deselectInforme()" class="back-button">Volver</button>
<div *ngIf="selectedInforme" class="form-container">
<div class="header">
  <h1>INFORME DE INSPECCIÓN Y PRUEBA DE CARGA A GRÚAS PUENTE y/o PÓRTICO</h1>
</div>
  <form [formGroup]="informeForm">
    <button (click)="toggleEdit()">{{ isEditing ? 'Cancelar' : 'Editar' }}</button>
    <button *ngIf="isEditing" (click)="saveChanges()">Guardar</button>
    <div class="form-row">
  <div class="title">
    <label>Informe N°</label>
  </div>
  <ng-container *ngIf="isEditing; else viewNumeroInforme">
    <input formControlName="numeroInforme" type="text" />
  </ng-container>
  <ng-template #viewNumeroInforme>
    <label>{{ informeForm.get('numeroInforme')?.value }}</label>
  </ng-template>
  <label>Certificado asociado N°</label>
  <ng-container *ngIf="isEditing; else viewCertificado">
    <input formControlName="numeroInforme" type="text" />
  </ng-container>
  <ng-template #viewCertificado>
    <label>{{ informeForm.get('numeroInforme')?.value }}</label>
  </ng-template>
</div>

<div class="form-row">
  <div class="title">
    <label>Solicitado por</label>
  </div>
  <label>Empresa</label>
  <ng-container *ngIf="isEditing; else viewEmpresa">
    <input formControlName="empresa" type="text" />
  </ng-container>
  <ng-template #viewEmpresa>
    <label>{{ informeForm.get('empresa')?.value }}</label>
  </ng-template>
  <label>Persona</label>
  <ng-container *ngIf="isEditing; else viewPersona">
    <input formControlName="persona" type="text" />
  </ng-container>
  <ng-template #viewPersona>
    <label>{{ informeForm.get('persona')?.value }}</label>
  </ng-template>
</div>
    <div class="form-row">
  <div class="title">
    <label>Equipo</label>
  </div>
  <ng-container *ngIf="isEditing; else viewEquipo">
    <input formControlName="equipo" type="text" />
  </ng-container>
  <ng-template #viewEquipo>
    <label>{{ informeForm.get('equipo')?.value }}</label>
  </ng-template>
</div>

<div class="form-row">
  <div class="title">
    <label>Modelo</label>
  </div>
  <ng-container *ngIf="isEditing; else viewModelo">
    <input formControlName="modelo" type="text" />
  </ng-container>
  <ng-template #viewModelo>
    <label>{{ informeForm.get('modelo')?.value }}</label>
  </ng-template>
</div>

<div class="form-row">
  <div class="title">
    <label>Marca</label>
  </div>
  <ng-container *ngIf="isEditing; else viewMarca">
    <input formControlName="marca" type="text" />
  </ng-container>
  <ng-template #viewMarca>
    <label>{{ informeForm.get('marca')?.value }}</label>
  </ng-template>
</div>

<div class="form-row capacidad-nominal">
  <div class="title">
    <label>Capacidad Nominal</label>
  </div>
  
  <label>Polipasto 1</label>
  <ng-container *ngIf="isEditing; else viewPolipasto1">
    <ng-container *ngIf="informeForm.get('polipasto1')?.value !== 0; else naPolipasto1">
      <input formControlName="polipasto1" type="number" />
    </ng-container>
    <ng-template #naPolipasto1>
      <label>N/A</label>
    </ng-template>
  </ng-container>
  <ng-template #viewPolipasto1>
    <label>{{ informeForm.get('polipasto1')?.value !== 0 ? informeForm.get('polipasto1')?.value + ' kg' : 'N/A' }}</label>
  </ng-template>

  <label>Polipasto 2</label>
  <ng-container *ngIf="isEditing; else viewPolipasto2">
    <ng-container *ngIf="informeForm.get('polipasto2')?.value !== 0; else naPolipasto2">
      <input formControlName="polipasto2" type="number" />
    </ng-container>
    <ng-template #naPolipasto2>
      <label>N/A</label>
    </ng-template>
  </ng-container>
  <ng-template #viewPolipasto2>
    <label>{{ informeForm.get('polipasto2')?.value !== 0 ? informeForm.get('polipasto2')?.value + ' kg' : 'N/A' }}</label>
  </ng-template>

  <label>Polipasto 3</label>
  <ng-container *ngIf="isEditing; else viewPolipasto3">
    <ng-container *ngIf="informeForm.get('polipasto3')?.value !== 0; else naPolipasto3">
      <input formControlName="polipasto3" type="number" />
    </ng-container>
    <ng-template #naPolipasto3>
      <label>N/A</label>
    </ng-template>
  </ng-container>
  <ng-template #viewPolipasto3>
    <label>{{ informeForm.get('polipasto3')?.value !== 0 ? informeForm.get('polipasto3')?.value + ' kg' : 'N/A' }}</label>
  </ng-template>
</div>

<div class="form-row">
  <div class="title">
    <label>Fecha de Fabricación</label>
  </div>
  <ng-container *ngIf="isEditing; else viewFechaFabricacion">
    <input formControlName="fechaFabricacion" type="text" />
  </ng-container>
  <ng-template #viewFechaFabricacion>
    <label>{{ informeForm.get('fechaFabricacion')?.value }}</label>
  </ng-template>
</div>

<div class="form-row">
  <div class="title">
    <label>ID o número de serie</label>
  </div>
  <ng-container *ngIf="isEditing; else viewNumeroSerie">
    <input formControlName="numeroSerie" type="text" />
  </ng-container>
  <ng-template #viewNumeroSerie>
    <label>{{ informeForm.get('numeroSerie')?.value }}</label>
  </ng-template>
</div>

<div class="form-row">
  <div class="title">
    <label>Lugar de inscripción y prueba</label>
  </div>
  <ng-container *ngIf="isEditing; else viewLugarInscripcion">
    <input formControlName="lugarInscripcion" type="text" />
  </ng-container>
  <ng-template #viewLugarInscripcion>
    <label>{{ informeForm.get('lugarInscripcion')?.value }}</label>
  </ng-template>
</div>

<div class="form-row">
  <div class="title">
    <label>Fecha de inspección y prueba</label>
  </div>
  <ng-container *ngIf="isEditing; else viewFechaInspeccion">
    <input formControlName="fechaInspeccion" type="date" />
  </ng-container>
  <ng-template #viewFechaInspeccion>
    <label>{{ informeForm.get('fechaInspeccion')?.value }}</label>
  </ng-template>
</div>

<div class="form-row">
  <div class="title">
    <label>Fecha de emisión informe</label>
  </div>
  <ng-container *ngIf="isEditing; else viewFechaEmision">
    <input formControlName="fechaInspeccion" type="date" />
  </ng-container>
  <ng-template #viewFechaEmision>
    <label>{{ informeForm.get('fechaInspeccion')?.value }}</label>
  </ng-template>
</div>
    <div class="subtitle">
      <h3 class="custom-h3">
        <strong>(CU)</strong> CUMPLE
        <strong>(N/C)</strong> NO CUMPLE
        NO APLICA
        <strong>(N/A)</strong>
        RECOMENDACIÓN
        <strong>(RE)</strong>
      </h3>
    </div>
    <h2 class="subtitle" *ngIf="tituloForm.length > 0">{{ tituloForm[0]?.nombre }}</h2>
    <button (click)="toggleEditStatus('A')">{{ isEditingStatusA ? 'Guardar' : 'Editar' }}</button>
<div class="form-row-A-F">
  <strong class="center">Item</strong>
  <strong class="center">Detalle</strong>
  <strong class="center">Status</strong>
  <strong class="center">Item</strong>
  <strong class="center">Detalle</strong>
  <strong class="center">Status</strong>
</div>

<div *ngFor="let item of itemsWithStatus | slice:0:6; let i = index" class="form-row-A-F">
  <label class="center"><strong>{{ item.idItem }}</strong></label>
  <label title="{{ item.detalle }}">{{ item.detalle }}</label>

  <div *ngIf="isEditingStatusA; else viewMode">
    <div class="options-list">
      <form>
        <label *ngFor="let option of optionStatus">
          <input 
            type="radio" 
            name="option_{{i}}" 
            [value]="option.idStatus" 
            [checked]="option.alias === item.alias"
            (change)="selectStatus(item, option.idStatus.toString())"
          />
          {{ option.alias }}
        </label>
      </form>
    </div>
  </div>
  <ng-template #viewMode>
    <label class="center">{{ item.alias }}</label>
  </ng-template>

  <ng-container *ngIf="6 + i < itemsWithStatus.length && itemsWithStatus[6 + i].idItem <= 11">
    <label class="center"><strong>{{ itemsWithStatus[6 + i].idItem }}</strong></label>
    <label title="{{ itemsWithStatus[6 + i].detalle }}">{{ itemsWithStatus[6 + i].detalle }}</label>

    <div *ngIf="isEditingStatusA; else viewMode2">
      <div class="options-list">
        <form>
          <label *ngFor="let option of optionStatus">
            <input 
              type="radio" 
              name="option_{{6 + i}}" 
              [value]="option.idStatus" 
              [checked]="option.alias === itemsWithStatus[6 + i]?.alias"
              (change)="selectStatus(itemsWithStatus[6 + i], option.idStatus.toString())"
            />
            {{ option.alias }}
          </label>
        </form>
      </div>
    </div>
    <ng-template #viewMode2>
      <label class="center">{{ itemsWithStatus[6 + i]?.alias }}</label>
    </ng-template>
  </ng-container>
</div>

  <h2 class="subtitle" *ngIf="tituloForm.length > 0">{{ tituloForm[1].nombre }}</h2>
  <button (click)="toggleEditStatus('B')">{{ isEditingStatusB ? 'Guardar' : 'Editar' }}</button>
  <div class="form-row-A-F">
    <strong class="center">Item</strong>
    <strong class="center">Detalle</strong>
    <strong class="center">Status</strong>
    <strong class="center">Item</strong>
    <strong class="center">Detalle</strong>
    <strong class="center">Status</strong>
  </div>

  <div *ngFor="let item of itemsWithStatus | slice:11:15; let i = index" class="form-row-A-F">
  <label class="center"><strong>{{ item.idItem }}</strong></label>
  <label title="{{ item.detalle }}">{{ item.detalle }}</label>

  <div *ngIf="isEditingStatusB; else viewMode">
    <div class="options-list">
      <form>
        <label *ngFor="let option of optionStatus">
          <input 
            type="radio" 
            name="option_{{11 + i}}" 
            [value]="option.idStatus" 
            [checked]="option.alias === item.alias"
            (change)="selectStatus(item, option.idStatus.toString())"
          />
          {{ option.alias }}
        </label>
      </form>
    </div>
  </div>
  <ng-template #viewMode>
    <label class="center">{{ item.alias }}</label>
  </ng-template>

  <ng-container *ngIf="15 + i < itemsWithStatus.length && itemsWithStatus[15 + i].idItem <= 19">
    <label class="center"><strong>{{ itemsWithStatus[15 + i].idItem }}</strong></label>
    <label title="{{ itemsWithStatus[15 + i].detalle }}">{{ itemsWithStatus[15 + i].detalle }}</label>

    <div *ngIf="isEditingStatusB; else viewMode2">
      <div class="options-list">
        <form>
          <label *ngFor="let option of optionStatus">
            <input 
              type="radio" 
              name="option_{{15 + i}}" 
              [value]="option.idStatus" 
              [checked]="option.alias === itemsWithStatus[15 + i]?.alias"
              (change)="selectStatus(itemsWithStatus[15 + i], option.idStatus.toString())"
            />
            {{ option.alias }}
          </label>
        </form>
      </div>
    </div>
    <ng-template #viewMode2>
      <label class="center">{{ itemsWithStatus[15 + i]?.alias }}</label>
    </ng-template>
  </ng-container>
</div>

  <h2 class="subtitle" *ngIf="tituloForm.length > 0">{{ tituloForm[2].nombre }}</h2>
<button (click)="toggleEditStatus('C')">{{ isEditingStatusC ? 'Guardar' : 'Editar' }}</button>
<div class="form-row-A-F">
  <strong class="center">Item</strong>
  <strong class="center">Detalle</strong>
  <strong class="center">Status</strong>
  <strong class="center">Item</strong>
  <strong class="center">Detalle</strong>
  <strong class="center">Status</strong>
</div>

<div *ngFor="let item of itemsWithStatus | slice:19:23; let i = index" class="form-row-A-F">
  <label class="center"><strong>{{ item.idItem }}</strong></label>
  <label title="{{ item.detalle }}">{{ item.detalle }}</label>

  <div *ngIf="isEditingStatusC; else viewModeC">
    <div class="options-list">
      <form>
        <label *ngFor="let option of optionStatus">
          <input 
            type="radio" 
            name="option_{{19 + i}}" 
            [value]="option.idStatus" 
            [checked]="option.alias === item.alias"
            (change)="selectStatus(item, option.idStatus.toString())"
          />
          {{ option.alias }}
        </label>
      </form>
    </div>
  </div>
  <ng-template #viewModeC>
    <label class="center">{{ item.alias }}</label>
  </ng-template>

  <ng-container *ngIf="23 + i < itemsWithStatus.length && itemsWithStatus[23 + i].idItem <= 26">
    <label class="center"><strong>{{ itemsWithStatus[23 + i].idItem }}</strong></label>
    <label title="{{ itemsWithStatus[23 + i].detalle }}">{{ itemsWithStatus[23 + i].detalle }}</label>

    <div *ngIf="isEditingStatusC; else viewModeC2">
      <div class="options-list">
        <form>
          <label *ngFor="let option of optionStatus">
            <input 
              type="radio" 
              name="option_{{23 + i}}" 
              [value]="option.idStatus" 
              [checked]="option.alias === itemsWithStatus[23 + i]?.alias"
              (change)="selectStatus(itemsWithStatus[23 + i], option.idStatus.toString())"
            />
            {{ option.alias }}
          </label>
        </form>
      </div>
    </div>
    <ng-template #viewModeC2>
      <label class="center">{{ itemsWithStatus[23 + i]?.alias }}</label>
    </ng-template>
  </ng-container>
</div>

  <h2 class="subtitle" *ngIf="tituloForm.length > 0">{{ tituloForm[3].nombre }}</h2>
<button (click)="toggleEditStatus('D')">{{ isEditingStatusD ? 'Guardar' : 'Editar' }}</button>
<div class="form-row-A-F">
  <strong class="center">Item</strong>
  <strong class="center">Detalle</strong>
  <strong class="center">Status</strong>
  <strong class="center">Item</strong>
  <strong class="center">Detalle</strong>
  <strong class="center">Status</strong>
</div>

<div *ngFor="let item of itemsWithStatus | slice:26:35; let i = index" class="form-row-A-F">
  <label class="center"><strong>{{ item.idItem }}</strong></label>
  <label title="{{ item.detalle }}">{{ item.detalle }}</label>

  <div *ngIf="isEditingStatusD; else viewModeD">
    <div class="options-list">
      <form>
        <label *ngFor="let option of optionStatus">
          <input 
            type="radio" 
            name="option_{{26 + i}}" 
            [value]="option.idStatus" 
            [checked]="option.alias === item.alias"
            (change)="selectStatus(item, option.idStatus.toString())"
          />
          {{ option.alias }}
        </label>
      </form>
    </div>
  </div>
  <ng-template #viewModeD>
    <label class="center">{{ item.alias }}</label>
  </ng-template>

  <ng-container *ngIf="35 + i < itemsWithStatus.length && itemsWithStatus[35 + i].idItem <= 43">
    <label class="center"><strong>{{ itemsWithStatus[35 + i].idItem }}</strong></label>
    <label title="{{ itemsWithStatus[35 + i].detalle }}">{{ itemsWithStatus[35 + i].detalle }}</label>

    <div *ngIf="isEditingStatusD; else viewModeD2">
      <div class="options-list">
        <form>
          <label *ngFor="let option of optionStatus">
            <input 
              type="radio" 
              name="option_{{35 + i}}" 
              [value]="option.idStatus" 
              [checked]="option.alias === itemsWithStatus[35 + i]?.alias"
              (change)="selectStatus(itemsWithStatus[35 + i], option.idStatus.toString())"
            />
            {{ option.alias }}
          </label>
        </form>
      </div>
    </div>
    <ng-template #viewModeD2>
      <label class="center">{{ itemsWithStatus[35 + i]?.alias }}</label>
    </ng-template>
  </ng-container>
</div>

  <h2 class="subtitle" *ngIf="tituloForm.length > 0">{{ tituloForm[4].nombre }}</h2>
<button (click)="toggleEditStatus('E')">{{ isEditingStatusE ? 'Guardar' : 'Editar' }}</button>
<div class="form-row-A-F">
  <strong class="center">Item</strong>
  <strong class="center">Detalle</strong>
  <strong class="center">Status</strong>
  <strong class="center">Item</strong>
  <strong class="center">Detalle</strong>
  <strong class="center">Status</strong>
</div>

<div *ngFor="let item of itemsWithStatus | slice:43:48; let i = index" class="form-row-A-F">
  <label class="center"><strong>{{ item.idItem }}</strong></label>
  <label title="{{ item.detalle }}" class="detalle-column">{{ item.detalle }}</label>

  <div *ngIf="isEditingStatusE; else viewModeE" class="options-container">
    <div class="options-list">
      <form>
        <label *ngFor="let option of optionStatus">
          <input 
            type="radio" 
            name="option_{{43 + i}}" 
            [value]="option.idStatus" 
            [checked]="option.alias === item.alias" 
            (change)="selectStatus(item, option.idStatus.toString())"
          />
          {{ option.alias }}
        </label>
      </form>
    </div>
  </div>
  <ng-template #viewModeE>
    <label class="center">{{ item.alias }}</label>
  </ng-template>

  <ng-container *ngIf="48 + i < itemsWithStatus.length && itemsWithStatus[48 + i].idItem <= 52">
    <label class="center"><strong>{{ itemsWithStatus[48 + i].idItem }}</strong></label>
    <label title="{{ itemsWithStatus[48 + i].detalle }}" class="detalle-column">{{ itemsWithStatus[48 + i].detalle }}</label>

    <div *ngIf="isEditingStatusE; else viewModeE2" class="options-container">
      <div class="options-list">
        <form>
          <label *ngFor="let option of optionStatus">
            <input 
              type="radio" 
              name="option_{{48 + i}}" 
              [value]="option.idStatus" 
              [checked]="option.alias === itemsWithStatus[48 + i]?.alias" 
              (change)="selectStatus(itemsWithStatus[48 + i], option.idStatus.toString())"
            />
            {{ option.alias }}
          </label>
        </form>
      </div>
    </div>
    <ng-template #viewModeE2>
      <label class="center">{{ itemsWithStatus[48 + i]?.alias }}</label>
    </ng-template>
  </ng-container>
</div>

  <h2 class="subtitle" *ngIf="tituloForm.length > 0">{{ tituloForm[5].nombre }}</h2>
  <button (click)="toggleEditStatus('F')">{{ isEditingStatusF ? 'Guardar' : 'Editar' }}</button>
  <div class="gancho">
    <label class="gancho-label">Gancho 1</label>
    <label class="gancho-label">Gancho 2</label>
  </div>
  <div class="form-row-A-F">
    <strong class="center">Item</strong>
    <strong class="center">Detalle</strong>
    <strong class="center">Status</strong>
    <strong class="center">Item</strong>
    <strong class="center">Detalle</strong>
    <strong class="center">Status</strong>
  </div>

  <div *ngFor="let item of itemsWithStatus | slice:52:60; let i = index" class="form-row-A-F">
  <label class="center"><strong>{{ item.idItem }}</strong></label>
  <label title="{{ item.detalle }}">{{ item.detalle }}</label>

  <div *ngIf="isEditingStatusF; else viewModeF">
    <div class="options-list">
      <form>
        <label *ngFor="let option of optionStatus">
          <input 
            type="radio" 
            name="option_{{52 + i}}" 
            [value]="option.idStatus" 
            [checked]="option.alias === item.alias"
            (change)="selectStatus(item, option.idStatus.toString())"
          />
          {{ option.alias }}
        </label>
      </form>
    </div>
  </div>
  <ng-template #viewModeF>
    <label class="center">{{ item.alias }}</label>
  </ng-template>

  <ng-container *ngIf="60 + i < itemsWithStatus.length && itemsWithStatus[60 + i].idItem <= 68">
    <label class="center"><strong>{{ itemsWithStatus[60 + i].idItem }}</strong></label>
    <label title="{{ itemsWithStatus[60 + i].detalle }}">{{ itemsWithStatus[60 + i].detalle }}</label>

    <div *ngIf="isEditingStatusF; else viewModeF2">
      <div class="options-list">
        <form>
          <label *ngFor="let option of optionStatus">
            <input 
              type="radio" 
              name="option_{{60 + i}}" 
              [value]="option.idStatus" 
              [checked]="option.alias === itemsWithStatus[60 + i]?.alias"
              (change)="selectStatus(itemsWithStatus[60 + i], option.idStatus.toString())"
            />
            {{ option.alias }}
          </label>
        </form>
      </div>
    </div>
    <ng-template #viewModeF2>
      <label class="center">{{ itemsWithStatus[60 + i]?.alias }}</label>
    </ng-template>
  </ng-container>
</div>

  <h2 class="subtitle" *ngIf="tituloForm.length > 0">{{ tituloForm[6].nombre }}</h2>
<button (click)="toggleEditFormG()">{{ isEditingFormG ? 'Guardar' : 'Editar' }}</button>
<div class="form-row-G">
  <strong class="center">Item</strong>
  <strong class="center">RE o N/C</strong>
  <strong class="center">Descripción</strong>
</div>

<div *ngFor="let descripcion of descripcionItems" class="form-row-G editInput">
  <label class="center">{{ descripcion.idDetalle }}</label>
  <label class="center"><strong>{{ getStatusLabel(descripcion.idStatus) }}</strong></label>

  <div *ngIf="isEditingFormG; else viewModeFormG">
    <input 
      [value]="descripcion.descripcion"
      (input)="updateFormG(descripcion, $event)"
      type="text"
      class="edit-input"
    />
  </div>
  <ng-template #viewModeFormG>
    <label>{{ descripcion.descripcion }}</label>
  </ng-template>
</div>
<h2>Notas en columna descripción:</h2>
  <ul>
      <h2>-	La palabra <strong>“debe” indica un requisito.</strong> Se relaciona con una no conformidad (N/C) y debe ser corregida por el cliente.</h2>
      <h2>-	La palabra <strong>“debería”</strong> indica una recomendación/observación (RE). Puede o no ser tratada por el cliente.</h2>
  </ul>
  <h3>Nota <span class="underline">muy importante</span>: Si correspondiesen acciones correctivas (por no conformidades, n/c), estas deberán ser solucionadas o tratadas por el cliente en el menor tiempo posible con el fin de reducir los riesgos asociados de mantener en operación un equipo sub-estándar. 
  </h3>
  <h3 class="custom-h3 font-italic">Las observaciones importantes de seguridad (N/C) deberán, si corresponde, ser levantadas mediante el documento “levantamiento de no conformidades”.</h3>
  <br><br><br>
  <h2 class="subtitle" *ngIf="tituloForm.length > 0">{{ tituloForm[7].nombre }}</h2>
  <div class="form-row-H">
    <label class="paddingLeft"><strong>Fecha prueba de carga</strong></label>
    <label>{{ formHData?.fecha }}</label>
  </div>
  <div class="form-row-H">
    <label class="paddingLeft"><strong>Vigencia prueba de carga <br>(sujeta a inspección visual, auditiva funcional y de seguridad anual)</strong></label>
    <label>{{ formHData?.vigencia }}</label>
  </div>
  <div class="form-row-H">
    <label class="paddingLeft"><strong>Lugar de prueba de carga</strong></label>
    <label>{{ formHData?.lugar }}</label>
  </div>
  <div class="form-row-H">
    <label class="paddingLeft"><strong>Norma para certificación Carga de Prueba</strong></label>
    <label>ASME B30.2-2016, Capítulo 2-2.3.1 // 2-2.3.2</label> <!-- Valor fijo -->
  </div>
  <div class="form-row-H equipo-medicion">
  <div class="titulo-columna">
    <h4>Equipos / instrumentos de medición</h4>
  </div>
  <div class="equipo-datos">
    <div class="equipo-header">
      <label><strong>Nombre de equipo</strong></label>
      <label><strong>SI</strong></label>
      <label><strong>NO</strong></label>
      <label><strong>Certificado Número</strong></label>
    </div>
    <div class="equipo-items">
      <div class="form-row">
        <label>Cinta métrica (flexómetro)</label>
        <label class="center"><span class="cuadrado2">{{ formHData?.cintaMetrica === 'SI' ? '✖' : '' }}</span></label>
        <label class="center"><span class="cuadrado2">{{ formHData?.cintaMetrica === 'NO' ? '✖' : '' }}</span></label>
        <label class="center">{{ formHData?.cintaMetricaNCertificado }}</label>
      </div>
      <div class="form-row">
        <label>Pie de metro (caliper)</label>
        <label class="center"><span class="cuadrado2">{{ formHData?.pie_metro === 'SI' ? '✖' : '' }}</span></label>
        <label class="center"><span class="cuadrado2">{{ formHData?.pie_metro === 'NO' ? '✖' : '' }}</span></label>
        <label class="center">{{ formHData?.pie_metroNCertificado }}</label>
      </div>
      <div class="form-row">
        <label>Bolsas de agua</label>
        <label class="center"><span class="cuadrado2">{{ formHData?.bolsasAgua === 'SI' ? '✖' : '' }}</span></label>
        <label class="center"><span class="cuadrado2">{{ formHData?.bolsasAgua === 'NO' ? '✖' : '' }}</span></label>
        <label class="center">{{ formHData?.bolsasAguaNCertificado }}</label>
      </div>
      <div class="form-row">
        <label>Masas</label>
        <label class="center"><span class="cuadrado2">{{ formHData?.masas === 'SI' ? '✖' : '' }}</span></label>
        <label class="center"><span class="cuadrado2">{{ formHData?.masas === 'NO' ? '✖' : '' }}</span></label>
        <label class="center">{{ formHData?.masasNCertificado }}</label>
      </div>
      <div class="form-row">
        <label>Dinamómetro</label>
        <label class="center"><span class="cuadrado2">{{ formHData?.dinamometro === 'SI' ? '✖' : '' }}</span></label>
        <label class="center"><span class="cuadrado2">{{ formHData?.dinamometro === 'NO' ? '✖' : '' }}</span></label>
        <label class="center">{{ formHData?.dinamometroNCertificado }}</label>
      </div>
      <div class="form-row">
        <label>Flujómetro</label>
        <label class="center"><span class="cuadrado2">{{ formHData?.flujometro === 'SI' ? '✖' : '' }}</span></label>
        <label class="center"><span class="cuadrado2">{{ formHData?.flujometro === 'NO' ? '✖' : '' }}</span></label>
        <label class="center">{{ formHData?.flujometroNCertificado }}</label>
      </div>
      <div class="form-row">
        <label>Otro (indicar)</label>
        <label class="center"><span class="cuadrado2">{{ formHData?.otro === 'SI' ? '✖' : '' }}</span></label>
        <label class="center"><span class="cuadrado2">{{ formHData?.otro === 'NO' ? '✖' : '' }}</span></label>
        <label class="center">{{ formHData?.otroNCertificado }}</label>
      </div>
      </div>
    </div>
  </div>
  <div class="form-row-nominal">
    <label class="paddingLeft"><strong>Capacidad nominal puente (SWL)</strong></label>
    <label><strong>Polipasto 1</strong></label>
    <label>{{ formHData?.cargaPruebaPoli1 }}.000</label>
    <label>kg</label>
    <label><strong>Polipasto 2</strong></label>
    <label>{{ formHData?.cargaPruebaPoli2 }}.000</label>
    <label>kg</label>
    <label><strong>Polipasto 3</strong></label>
    <label>{{ formHData?.cargaPruebaPoli3 !== 0 ? formHData?.cargaPruebaPoli3 : 'N/A' }}</label>
    <label>kg</label>
  </div>

  <div class="form-row-single">
    <label class="paddingLeft"><strong>Operador (NOMBRE/RUT)</strong></label>
    <input 
      formControlName="operador" 
      [placeholder]="operadorControl?.invalid && operadorControl?.touched ? 'El nombre del operador es obligatorio' : ''" 
      [class.error-input]="operadorControl?.invalid && operadorControl?.touched">
    
  </div>
  <div class="form-row-single">
    <label class="paddingLeft"><strong>Inspector ALS (NOMBRE/RUT)</strong></label>
    <label>{{selectedInforme.Nombre}}/{{selectedInforme.rut}}</label>
  </div>
  <div class="union">
    <div class="title-part1">
      <div class="title-class">
        <label class="paddingLeft"><strong>Clasificación</strong> Bueno (B) Regular (R) Malo (M)</label>
      </div>
      <div class="form-item">
        <label class="center"><strong>ITEM</strong></label>
        <label class="center"><strong>Traslación (puente)</strong></label>
        <label class="center"><strong>Dirección (carro)</strong></label>
        <label class="center"><strong>Izaje (gancho)</strong></label>
      </div>
    </div>
    <div class="title-part2">
      <label class="center"><strong>Carga de prueba aplicada >= 100% <= 125%</strong></label>
      <label class="center"><strong>SWL (Carga segura de trabajo)</strong></label>
    </div>
  </div>

  <div class="form-row form-row-clasificacion">
      <label><strong>Polipasto 1</strong></label>
      <label>{{ formHData?.poliUnoTraslacion }}</label>
      <label>{{ formHData?.poliUnoDireccion }}</label>
      <label>{{ formHData?.poliUnoIzaje }}</label>
      <label>{{ formHData?.cargaPruebaPoli1 }}.000</label>
      <label>kg</label>
      <label>{{formHData?.cargaSeguraPoli1}}.000</label>
      <label>kg</label>
  </div>

  <div class="form-row form-row-clasificacion">
      <label><strong>Polipasto 2</strong></label>
      <label>{{ formHData?.poliDosTraslacion }}</label>
      <label>{{ formHData?.poliDosDireccion }}</label>
      <label>{{ formHData?.poliDosIzaje }}</label>
      <label>{{ formHData?.cargaPruebaPoli2 }}.000</label>
      <label>kg</label>
      <label>{{formHData?.cargaSeguraPoli2}}.000</label>
      <label>kg</label>
  </div>

  <div class="form-row form-row-clasificacion">
      <label><strong>Polipasto 3</strong></label>
      <label>{{ formHData?.poliTresTraslacion !== 0 ? formHData?.poliTresTraslacion : 'N/A' }}</label>
      <label>{{ formHData?.poliTresDireccion !== 0 ? formHData?.poliTresDireccion : 'N/A' }}</label>
      <label>{{ formHData?.poliTresIzaje !== 0 ? formHData?.poliTresIzaje : 'N/A' }}</label>
      <label>{{ formHData?.cargaPruebaPoli3 !== 0 ? formHData?.cargaPruebaPoli3 : 'N/A' }}</label>
      <label>kg</label>
      <label>{{formHData?.cargaSeguraPoli3 !== 0 ? formHData?.cargaSeguraPoli3 : 'N/A'}}</label>
      <label>kg</label>
  </div>

  <div class="form-row">
      <label class="text-right"><strong>RESULTADO PRUEBA DE CARGA:</strong></label>
      <label class="upper paddingLeft"><strong>{{ formHData?.resulPruebaCarga }}</strong></label>
  </div>
  <div>
    <label class="upper comentario"><strong>COMENTARIOS: {{ formHData?.comentarios }}</strong></label>
  </div>

  <h2 class="subtitle" *ngIf="tituloForm.length > 0"><strong>{{ tituloForm[8].nombre }}</strong></h2>

  <div class="titulo-h1 center">
    <label><strong>Medición</strong></label>
    <label><strong>Antes</strong></label>
    <label><strong>Después</strong></label>
    <label><strong>Hora inicio</strong></label>
    <label><strong>Hora término</strong></label>
    <label><strong>Resultado</strong></label>
  </div>
  <div class="datos-h1 center">
    <label><strong>Polipasto #1</strong></label>
    <label>{{ formH1Data?.poliUnoAntes }}</label>
    <label>cm</label>
    <label>{{ formH1Data?.poliUnoDespues }}</label>
    <label>cm</label>
    <label>{{ formH1Data?.poliUnoHInicio }}:00</label>
    <label>{{ formH1Data?.poliUnoHTermino }}:00</label>
    <label>{{ formH1Data?.poliUnoResultado === 'SI' ? 'SATISFACTORIO' : 'INSATISFACTORIO' }}</label>
  </div>

  <div class="datos-h1 center">
    <label><strong>Polipasto #2</strong></label>
    <label>{{ formH1Data?.poliDosAntes }}</label>
    <label>cm</label>
    <label>{{ formH1Data?.poliDosDespues }}</label>
    <label>cm</label>
    <label>{{ formH1Data?.poliDosHInicio }}:00</label>
    <label>{{ formH1Data?.poliDosHTermino }}:00</label>
    <label>{{ formH1Data?.poliDosResultado === 'SI' ? 'SATISFACTORIO' : 'INSATISFACTORIO' }}</label>
  </div>
  <div class="datos-h1 center">
    <label><strong>Polipasto #3</strong></label>
    <label>{{ formH1Data?.poliTresAntes && formH1Data?.poliTresAntes !== 0 ? formH1Data?.poliTresAntes : 'N/A' }}</label>
    <label>cm</label>
    <label>{{ formH1Data?.poliTresDespues && formH1Data?.poliTresDespues !== 0 ? formH1Data?.poliTresDespues : 'N/A' }}</label>
    <label>cm</label>
    <label>{{ formH1Data?.poliTresHInicio && formH1Data?.poliTresHInicio !== 0 ? formH1Data?.poliTresHInicio + ':00' : 'N/A' }}</label>
    <label>{{ formH1Data?.poliTresHTermino && formH1Data?.poliTresHTermino !== 0 ? formH1Data?.poliTresHTermino + ':00' : 'N/A' }}</label>
    <label>{{ formH1Data?.poliTresResultado && formH1Data?.poliTresResultado === 'SI' ? 'SATISFACTORIO' : (formH1Data?.poliTresResultado === 'N/A' ? 'N/A' : 'INSATISFACTORIO') }}</label>
  </div>

    <div class="check">
      <h4 class="center">Condición de frenos:</h4>
      <span class="cuadrado2 center">
        <span *ngIf="formH1Data?.condicionFrenos === 'satisfactorio'">✖</span>
      </span>
      <h4 class="text-left">Satisfactorio</h4>
      <span class="cuadrado2 center">
        <span *ngIf="formH1Data?.condicionFrenos !== 'satisfactorio'">✖</span>
      </span>
      <h4 class="text-left">Insatisfactorio</h4>
    </div>

  <h2 class="subtitle" *ngIf="tituloForm.length > 0"><strong>{{ tituloForm[9].nombre }}</strong></h2>
  <div class="unionH2">
    <div class="title-part4">
      <div class="title-part3">
        <label class="paddingLeft"><strong>GANCHO DOBLE</strong></label>
        <label class="center justifyCenter"><strong>Antes de la prueba</strong></label>
        <label class="center justifyCenter"><strong>Después de la prueba</strong></label>
      </div>
      <div class="form-row datos-h2">
        <label class="paddingLeft"><strong>Longitud A-B</strong></label>
        <label class="center">{{ formH2Data?.longitudUABAntes }}</label>
        <label class="center">cm</label>
        <label class="center">{{ formH2Data?.longitudUABDesp }}</label>
        <label class="center">cm</label>
      </div>
      <div class="form-row datos-h2">
        <label class="paddingLeft"><strong>Longitud B-C</strong></label>
        <label class="center">{{ formH2Data?.longitudDBCAntes }}</label>
        <label class="center">cm</label>
        <label class="center">{{ formH2Data?.longitudDBCDesp }}</label>
        <label class="center">cm</label>
      </div>
      <div class="form-row datos-h2">
        <label class="paddingLeft"><strong>Longitud A-B'</strong></label>
        <label class="center">{{ formH2Data?.longitudTABAntes }}</label>
        <label class="center">cm</label>
        <label class="center">{{ formH2Data?.longitudTABDesp }}</label>
        <label class="center">cm</label>
      </div>
      <div class="form-row datos-h2">
        <label class="paddingLeft"><strong>Longitud B-C'</strong></label>
        <label class="center">{{ formH2Data?.longitudCBCAntes }}</label>
        <label class="center">cm</label>
        <label class="center">{{ formH2Data?.longitudCBCDesp }}</label>
        <label class="center">cm</label>
      </div>
    </div>
      <label>
        <div class="imgH2">
          <img src="assets/formulario_puente/tipo_doble.jpg" alt="Tipo doble">
        </div>
      </label>
  </div>
  <div class="form-row resultadoH2">
    <label class="text-right"><strong>Resultado (X)</strong></label>
    <label class="text-right">Satisfactorio</label>
    <label class="center">
      <span class="cuadradoH2">
        <span *ngIf="formH2Data?.longitudResulDoble === 'satisfactorio'">✖</span>
      </span>
    </label>
    <label class="text-right">Insatisfactorio</label>
    <label class="center">
      <span class="cuadradoH2">
        <span *ngIf="formH2Data?.longitudResulDoble !== 'satisfactorio'">✖</span>
      </span>
    </label>
    <label class="center">Tipo doble</label>
  </div>
  <br>
  <div class="unionH2">
    <div class="title-part4">
      <div class="title-part3">
        <label class="paddingLeft"><strong>GANCHO SIMPLE</strong></label>
        <label class="center justifyCenter"><strong>Antes de la prueba</strong></label>
        <label class="center justifyCenter"><strong>Después de la prueba</strong></label>
      </div>
      <div class="form-row datos-h2">
        <label class="paddingLeft"><strong>Longitud A-B</strong></label>
        <label class="center">{{ formH2Data?.longDABAntes }}</label>
        <label class="center">cm</label>
        <label class="center">{{ formH2Data?.longDABDesp }}</label>
        <label class="center">cm</label>
      </div>
      <div class="form-row datos-h2">
        <label class="paddingLeft"><strong>Longitud B-C</strong></label>
        <label class="center">{{ formH2Data?.longDBCAntes }}</label>
        <label class="center">cm</label>
        <label class="center">{{ formH2Data?.longDBCDesp }}</label>
        <label class="center">cm</label>
      </div>    
    </div>
      <label>
        <div class="imgH2">
          <img src="assets/formulario_puente/tipo_simple.jpg" alt="Tipo simple">
        </div>
      </label>
  </div>
  <div class="form-row resultadoH2">
    <label class="text-right"><strong>Resultado (X)</strong></label>
    <label class="text-right">Satisfactorio</label>
    <label class="center">
      <span class="cuadradoH2">
        <span *ngIf="formH2Data?.longResulSimple === 'satisfactorio'">✖</span>
      </span>
    </label>
    <label class="text-right">Insatisfactorio</label>
    <label class="center">
      <span class="cuadradoH2">
        <span *ngIf="formH2Data?.longResulSimple !== 'satisfactorio'">✖</span>
      </span>
    </label>
    <label class="center">Tipo simple</label>
  </div>
  <br>
  <div class="unionH2">
    <div class="title-part4">
      <div class="title-part3">
        <label class="paddingLeft"><strong>GANCHO SIMPLE</strong></label>
        <label class="center justifyCenter"><strong>Antes de la prueba</strong></label>
        <label class="center justifyCenter"><strong>Después de la prueba</strong></label>
      </div>
      <div class="form-row datos-h2">
        <label class="paddingLeft"><strong>Longitud A-B</strong></label>
        <label class="center">{{ formH2Data?.longGSABAntes === 0 ? 'N/A' : formH2Data?.longGSABAntes }}</label>
        <label class="center">cm</label>
        <label class="center">{{ formH2Data?.longGSABDesp === 0 ? 'N/A' : formH2Data?.longGSABDesp }}</label>
        <label class="center">cm</label>
      </div>
      <div class="form-row datos-h2">
        <label class="paddingLeft"><strong>Longitud B-C</strong></label>
        <label class="center">{{ formH2Data?.longGSBCAntes === 0 ? 'N/A' : formH2Data?.longGSBCAntes }}</label>
        <label class="center">cm</label>
        <label class="center">{{ formH2Data?.longGSBCDesp === 0 ? 'N/A' : formH2Data?.longGSBCDesp }}</label>
        <label class="center">cm</label>
      </div>   
    </div>
      <label>
        <div class="imgH2">
          <img src="assets/formulario_puente/tipo_simple.jpg" alt="Tipo simple">
        </div>
      </label>
  </div>
  <div class="form-row resultadoH2">
    <label class="text-right"><strong>Resultado (X)</strong></label>
    <label class="text-right">Satisfactorio</label>
    <label class="center">
      <span class="cuadradoH2">
        <span *ngIf="formH2Data?.longResulSimpleDos === 'satisfactorio'">✖</span>
      </span>
    </label>
    <label class="text-right">Insatisfactorio</label>
    <label class="center">
      <span class="cuadradoH2">
        <span *ngIf="formH2Data?.longResulSimpleDos !== 'satisfactorio' && formH2Data?.longResulSimpleDos !== 'N/A'">✖</span>
      </span>
    </label>
    <label class="center">Tipo simple</label>
  </div>
  <br>
  <h2 class="subtitle" *ngIf="tituloForm.length > 0">{{ tituloForm[10].nombre }}</h2>
  <div class="resultGeneral">
    <h3 class="justifySelfEnd">INDICACIÓN (X)</h3>
    <h3>SI</h3>
    <h3>NO</h3>
  </div>
  <div class="form-row resultGeneral">
    <label class="font-size-20"><strong>Conforme a la inspección y prueba de carga, la grúa puente se encuentra aprobada y puede ser operada de manera segura para la capacidad indicada.</strong></label>
    <label class="center"><span class="cuadradoH2">{{ selectedInforme.idResul === 1 ? 'X' : '' }}</span></label>
    <label class="center"><span class="cuadradoH2">{{ selectedInforme.idResul === 2 ? 'X' : '' }}</span></label>
  </div>
  <h3 class="custom-h3 font-size-30">Documento asociado: Certificado de Inspección y Prueba de Carga (Solo en caso de pasar satisfactoriamente inspección). GRC-2311-0441 C</h3>
  <br><br><br><br><br><br>
  <div class="center justifyCenter">
    <h3 class="custom-h3 font-size-25">Este informe se realizó sin prejuicio de ningún tipo y para el interés de quien <br>concierna.</h3>
  </div>
  <br><br><br><br><br><br>
  <h4 class="center justifyCenter">Nombre y firma <br>INSPECTOR <br>ALS Inspection Chile SPA</h4>
  <br><br><br><br><br><br>
  <h2 class="center justifyCenter font-size-xxxlarge" *ngIf="tituloForm.length > 0"><strong>{{ tituloForm[11].nombre }}</strong></h2>
  <div class="photo-grid">
    <div *ngFor="let photo of photos" class="photo-item">
      <img [src]="'data:image/png;base64,' + photo.data" [alt]="photo.descripcionSF">
      <span>{{ photo.descripcionSF }}</span>
    </div>
  </div>
  </form> 
</div>
